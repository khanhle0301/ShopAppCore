2017-11-26T13:05:21.9787956+07:00  [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:05:23.2950283+07:00  [INF] Executed DbCommand ("73"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRoles] AS [a])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:05:23.4031033+07:00  [INF] Executed DbCommand ("32"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUsers] AS [a])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:05:23.4631716+07:00  [INF] Executed DbCommand ("39"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Functions] AS [f]" (0723d8ff)
2017-11-26T13:05:23.5371656+07:00  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Footers] AS [x]
WHERE [x].[Id] = 'DefaultFooterId'" (0723d8ff)
2017-11-26T13:05:23.5460809+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Colors] AS [c]" (0723d8ff)
2017-11-26T13:05:23.5565807+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AdvertistmentPages] AS [a]" (0723d8ff)
2017-11-26T13:05:23.5822057+07:00  [INF] Executed DbCommand ("18"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Slides] AS [s]" (0723d8ff)
2017-11-26T13:05:23.5923972+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Sizes] AS [s]" (0723d8ff)
2017-11-26T13:05:23.6041372+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ProductCategories] AS [p]" (0723d8ff)
2017-11-26T13:05:23.6166627+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SystemConfigs] AS [x]
        WHERE [x].[Id] = N'HomeTitle')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:05:23.6305226+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SystemConfigs] AS [x]
        WHERE [x].[Id] = N'HomeMetaKeyword')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:05:23.6420782+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SystemConfigs] AS [x]
        WHERE [x].[Id] = N'HomeMetaDescription')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:05:35.5074518+07:00 0HL9KIENC1LCB:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:28064/   (ca22a1cb)
2017-11-26T13:05:36.1392963+07:00 0HL9KIENC1LCB:00000001 [INF] Executing action method "ShopApp.Web.Controllers.HomeController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:05:41.3370064+07:00 0HL9KIENC1LCB:00000001 [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2017-11-26T13:05:42.3125826+07:00 0HL9KIENC1LCB:00000001 [INF] Executed action "ShopApp.Web.Controllers.HomeController.Index (ShopApp.Web)" in 6184.0059ms (afa2e885)
2017-11-26T13:05:42.3259331+07:00 0HL9KIENC1LCB:00000001 [INF] Request finished in 6850.6982ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:05:52.7136577+07:00 0HL9KIENC1LCB:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin   (ca22a1cb)
2017-11-26T13:05:52.7265544+07:00 0HL9KIENC1LCB:00000002 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:05:53.1273032+07:00 0HL9KIENC1LCB:00000002 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Login/Index.cshtml". (9707eebe)
2017-11-26T13:05:53.2189592+07:00 0HL9KIENC1LCB:00000002 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" in 487.6177ms (afa2e885)
2017-11-26T13:05:53.2279332+07:00 0HL9KIENC1LCB:00000002 [INF] Request finished in 509.4759ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:05:53.2919748+07:00 0HL9KIENC1LCB:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:28064/app/shared/shopApp.js   (ca22a1cb)
2017-11-26T13:05:53.3042369+07:00 0HL9KIENC1LCB:00000003 [INF] The file "/app/shared/shopApp.js" was not modified (f1f8d725)
2017-11-26T13:05:53.3163755+07:00 0HL9KIENC1LCB:00000003 [INF] Request finished in 35.8857ms 304 application/javascript (791a596a)
2017-11-26T13:05:55.2193865+07:00 0HL9KIENC1LCB:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:28064/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2017-11-26T13:05:55.4491014+07:00 0HL9KIENC1LCB:00000004 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" with arguments (["ShopApp.Web.Models.AccountViewModels.LoginViewModel"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:05:55.4598192+07:00 0HL9KIENC1LCB:00000004 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:05:55.7963104+07:00 0HL9KIENC1LCB:00000004 [INF] Executed DbCommand ("185"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2017-11-26T13:05:56.0290351+07:00 0HL9KIENC1LCB:00000004 [INF] Executed DbCommand ("8"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2017-11-26T13:05:56.1049710+07:00 0HL9KIENC1LCB:00000004 [INF] Executed DbCommand ("15"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:05:56.1216637+07:00 0HL9KIENC1LCB:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2017-11-26T13:05:56.1472550+07:00 0HL9KIENC1LCB:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2017-11-26T13:05:56.1547269+07:00 0HL9KIENC1LCB:00000004 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:05:56.1648260+07:00 0HL9KIENC1LCB:00000004 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-11-26T13:05:56.1696935+07:00 0HL9KIENC1LCB:00000004 [INF] User logged in. (fdce0db4)
2017-11-26T13:05:56.1801655+07:00 0HL9KIENC1LCB:00000004 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:05:56.2451655+07:00 0HL9KIENC1LCB:00000004 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" in 894.6495ms (afa2e885)
2017-11-26T13:05:56.2512759+07:00 0HL9KIENC1LCB:00000004 [INF] Request finished in 1032.2327ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:05:56.2640978+07:00 0HL9KIENC1LCB:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/Home/Index   (ca22a1cb)
2017-11-26T13:05:56.2743135+07:00 0HL9KIENC1LCB:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:05:56.2907043+07:00 0HL9KIENC1LCB:00000005 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:05:56.2958754+07:00 0HL9KIENC1LCB:00000005 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:05:56.7066753+07:00 0HL9KIENC1LCB:00000005 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Home/Index.cshtml". (9707eebe)
2017-11-26T13:05:57.0869916+07:00 0HL9KIENC1LCB:00000005 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:05:57.2042629+07:00 0HL9KIENC1LCB:00000005 [INF] Executed DbCommand ("50"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:05:57.8867643+07:00 0HL9KIENC1LCB:00000005 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" in 1601.3373ms (afa2e885)
2017-11-26T13:05:57.9300357+07:00 0HL9KIENC1LCB:00000005 [INF] Request finished in 1631.1504ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:05:57.9385679+07:00 0HL9KIENC1LCB:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:28064/lib/ckeditor/skins/moono/editor.css   (ca22a1cb)
2017-11-26T13:05:57.9583049+07:00 0HL9KIENC1LCB:00000006 [INF] The file "/lib/ckeditor/skins/moono/editor.css" was not modified (f1f8d725)
2017-11-26T13:05:57.9736492+07:00 0HL9KIENC1LCB:00000006 [INF] Request finished in 25.3282ms 304 text/css (791a596a)
2017-11-26T13:05:57.9851808+07:00 0HL9KIENC1LCB:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:28064/lib/ckeditor/ckeditor.js   (ca22a1cb)
2017-11-26T13:05:57.9897106+07:00 0HL9KIENC1LCB:00000007 [INF] The file "/lib/ckeditor/ckeditor.js" was not modified (f1f8d725)
2017-11-26T13:05:57.9953355+07:00 0HL9KIENC1LCB:00000007 [INF] Request finished in 12.4977ms 304 application/javascript (791a596a)
2017-11-26T13:06:01.1012287+07:00 0HL9KIENC1LCB:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/index   (ca22a1cb)
2017-11-26T13:06:01.1069772+07:00 0HL9KIENC1LCB:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:01.1157497+07:00 0HL9KIENC1LCB:00000008 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:01.1209141+07:00 0HL9KIENC1LCB:00000008 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:01.2611131+07:00 0HL9KIENC1LCB:00000008 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Role/Index.cshtml". (9707eebe)
2017-11-26T13:06:01.5503100+07:00 0HL9KIENC1LCB:00000008 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:01.5580647+07:00 0HL9KIENC1LCB:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:06:01.5743297+07:00 0HL9KIENC1LCB:00000008 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.Index (ShopApp.Web)" in 458.2057ms (afa2e885)
2017-11-26T13:06:01.5905001+07:00 0HL9KIENC1LCB:00000008 [INF] Request finished in 482.9186ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:06:01.6509413+07:00 0HL9KIENC1LCD:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:28064/lib/jquery-treegrid/js/jquery.treegrid.js   (ca22a1cb)
2017-11-26T13:06:01.6530638+07:00 0HL9KIENC1LCB:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:28064/lib/jquery-treegrid/css/jquery.treegrid.css   (ca22a1cb)
2017-11-26T13:06:01.6637068+07:00 0HL9KIENC1LCD:00000001 [INF] Sending file. Request path: '"/lib/jquery-treegrid/js/jquery.treegrid.js"'. Physical path: '"D:\KhanhAck\AllInOne\Core\ShopAppCore\ShopApp.Web\wwwroot\lib\jquery-treegrid\js\jquery.treegrid.js"' (27b0a520)
2017-11-26T13:06:01.6680445+07:00 0HL9KIENC1LCB:00000009 [INF] Sending file. Request path: '"/lib/jquery-treegrid/css/jquery.treegrid.css"'. Physical path: '"D:\KhanhAck\AllInOne\Core\ShopAppCore\ShopApp.Web\wwwroot\lib\jquery-treegrid\css\jquery.treegrid.css"' (27b0a520)
2017-11-26T13:06:01.6798298+07:00 0HL9KIENC1LCB:00000009 [INF] Request finished in 41.2972ms 200 text/css (791a596a)
2017-11-26T13:06:01.6907880+07:00 0HL9KIENC1LCD:00000001 [INF] Request finished in 49.0532ms 200 application/javascript (791a596a)
2017-11-26T13:06:01.7135537+07:00 0HL9KIENC1LCB:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:28064/app/controllers/role/index.js?v=W_lGPPi4-AK_axm_dDy8Jy54xgqJ3Z19EC-nihFZAec   (ca22a1cb)
2017-11-26T13:06:01.7237832+07:00 0HL9KIENC1LCB:0000000A [INF] Sending file. Request path: '"/app/controllers/role/index.js"'. Physical path: '"D:\KhanhAck\AllInOne\Core\ShopAppCore\ShopApp.Web\wwwroot\app\controllers\role\index.js"' (27b0a520)
2017-11-26T13:06:01.7375456+07:00 0HL9KIENC1LCB:0000000A [INF] Request finished in 22.7101ms 200 application/javascript (791a596a)
2017-11-26T13:06:02.1709217+07:00 0HL9KIENC1LCB:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:06:02.1973034+07:00 0HL9KIENC1LCB:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:02.2088593+07:00 0HL9KIENC1LCB:0000000B [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:02.2210924+07:00 0HL9KIENC1LCB:0000000B [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:02.2415642+07:00 0HL9KIENC1LCB:0000000B [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:02.2624145+07:00 0HL9KIENC1LCB:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2017-11-26T13:06:02.2953952+07:00 0HL9KIENC1LCB:0000000B [WRN] Query: '"(from AppRole dto in DbSet<AppRole> select new AppRoleViewModel{ { 
    Id = (Nullable<Guid>)[dto]...."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2017-11-26T13:06:02.3197988+07:00 0HL9KIENC1LCB:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [dto].[Id], [dto].[Name], [dto].[Description]
FROM [AppRoles] AS [dto]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:06:02.3306746+07:00 0HL9KIENC1LCB:0000000B [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:02.3795139+07:00 0HL9KIENC1LCB:0000000B [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" in 158.3761ms (afa2e885)
2017-11-26T13:06:02.3971285+07:00 0HL9KIENC1LCB:0000000B [INF] Request finished in 334.2386ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:02.4434790+07:00 0HL9KIENC1LCB:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:06:02.4624647+07:00 0HL9KIENC1LCB:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:02.4806571+07:00 0HL9KIENC1LCB:0000000C [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:02.4901326+07:00 0HL9KIENC1LCB:0000000C [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:02.4959701+07:00 0HL9KIENC1LCB:0000000C [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:02.5115184+07:00 0HL9KIENC1LCB:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2017-11-26T13:06:02.5278769+07:00 0HL9KIENC1LCB:0000000C [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [dto].[Id], [dto].[Name], [dto].[Description]
FROM [AppRoles] AS [dto]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:06:02.5401220+07:00 0HL9KIENC1LCB:0000000C [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:02.5638102+07:00 0HL9KIENC1LCB:0000000C [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" in 81.6344ms (afa2e885)
2017-11-26T13:06:02.6663351+07:00 0HL9KIENC1LCB:0000000C [INF] Request finished in 180.7659ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:09.3724808+07:00 0HL9KIENC1LCB:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:06:09.3883745+07:00 0HL9KIENC1LCD:00000002 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:06:09.3952618+07:00 0HL9KIENC1LCB:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:09.4010399+07:00 0HL9KIENC1LCD:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:09.4133589+07:00 0HL9KIENC1LCD:00000002 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:09.4443484+07:00 0HL9KIENC1LCD:00000002 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:09.4457956+07:00 0HL9KIENC1LCB:0000000D [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:09.4543466+07:00 0HL9KIENC1LCB:0000000D [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:09.4627872+07:00 0HL9KIENC1LCB:0000000D [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:09.5032385+07:00 0HL9KIENC1LCB:0000000D [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:06:09.5044095+07:00 0HL9KIENC1LCD:00000002 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:09.5105562+07:00 0HL9KIENC1LCB:0000000D [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:09.5297898+07:00 0HL9KIENC1LCB:0000000D [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 103.1288ms (afa2e885)
2017-11-26T13:06:09.5756895+07:00 0HL9KIENC1LCB:0000000D [INF] Request finished in 189.0988ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:09.6186436+07:00 0HL9KIENC1LCB:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:28064/lib/jquery-treegrid/img/collapse.png   (ca22a1cb)
2017-11-26T13:06:09.6251504+07:00 0HL9KIENC1LCB:0000000E [INF] Sending file. Request path: '"/lib/jquery-treegrid/img/collapse.png"'. Physical path: '"D:\KhanhAck\AllInOne\Core\ShopAppCore\ShopApp.Web\wwwroot\lib\jquery-treegrid\img\collapse.png"' (27b0a520)
2017-11-26T13:06:09.6403825+07:00 0HL9KIENC1LCB:0000000E [INF] Request finished in 16.415ms 200 image/png (791a596a)
2017-11-26T13:06:09.6749212+07:00 0HL9KIENC1LCD:00000002 [INF] Executed DbCommand ("75"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:06:09.6792683+07:00 0HL9KIENC1LCD:00000002 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:09.6926910+07:00 0HL9KIENC1LCD:00000002 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 279.7551ms (afa2e885)
2017-11-26T13:06:09.7000313+07:00 0HL9KIENC1LCD:00000002 [INF] Request finished in 349.5615ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:13.4871570+07:00 0HL9KIENC1LCD:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:28064/lib/jquery-treegrid/img/expand.png   (ca22a1cb)
2017-11-26T13:06:13.4916799+07:00 0HL9KIENC1LCD:00000003 [INF] Sending file. Request path: '"/lib/jquery-treegrid/img/expand.png"'. Physical path: '"D:\KhanhAck\AllInOne\Core\ShopAppCore\ShopApp.Web\wwwroot\lib\jquery-treegrid\img\expand.png"' (27b0a520)
2017-11-26T13:06:13.4988594+07:00 0HL9KIENC1LCD:00000003 [INF] Request finished in 9.4284ms 200 image/png (791a596a)
2017-11-26T13:06:24.9471842+07:00 0HL9KIENC1LCD:00000004 [INF] Request starting HTTP/1.1 POST http://localhost:28064/admin/role/SavePermission application/x-www-form-urlencoded; charset=UTF-8 7142 (ca22a1cb)
2017-11-26T13:06:24.9555375+07:00 0HL9KIENC1LCD:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:25.0113746+07:00 0HL9KIENC1LCD:00000004 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:25.0374881+07:00 0HL9KIENC1LCD:00000004 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.SavePermission (ShopApp.Web)" with arguments (["System.Collections.Generic.List`1[ShopApp.Application.ViewModels.System.PermissionViewModel]", "6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:25.0827745+07:00 0HL9KIENC1LCD:00000004 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:25.0961866+07:00 0HL9KIENC1LCD:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CanCreate], [x].[CanDelete], [x].[CanRead], [x].[CanUpdate], [x].[FunctionId], [x].[RoleId]
FROM [Permissions] AS [x]
WHERE [x].[RoleId] = @__roleId_0" (0723d8ff)
2017-11-26T13:06:25.6793196+07:00 0HL9KIENC1LCD:00000004 [INF] Executed DbCommand ("464"ms) [Parameters=["@p0='?', @p1='?', @p2='?', @p3='?', @p4='?' (Size = 450), @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (Size = 450), @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?' (Size = 450), @p17='?', @p18='?', @p19='?', @p20='?', @p21='?', @p22='?' (Size = 450), @p23='?', @p24='?', @p25='?', @p26='?', @p27='?', @p28='?' (Size = 450), @p29='?', @p30='?', @p31='?', @p32='?', @p33='?', @p34='?' (Size = 450), @p35='?', @p36='?', @p37='?', @p38='?', @p39='?', @p40='?' (Size = 450), @p41='?', @p42='?', @p43='?', @p44='?', @p45='?', @p46='?' (Size = 450), @p47='?', @p48='?', @p49='?', @p50='?', @p51='?', @p52='?' (Size = 450), @p53='?', @p54='?', @p55='?', @p56='?', @p57='?', @p58='?' (Size = 450), @p59='?', @p60='?', @p61='?', @p62='?', @p63='?', @p64='?' (Size = 450), @p65='?', @p66='?', @p67='?', @p68='?', @p69='?', @p70='?' (Size = 450), @p71='?', @p72='?', @p73='?', @p74='?', @p75='?', @p76='?' (Size = 450), @p77='?', @p78='?', @p79='?', @p80='?', @p81='?', @p82='?' (Size = 450), @p83='?', @p84='?', @p85='?', @p86='?', @p87='?', @p88='?' (Size = 450), @p89='?', @p90='?', @p91='?', @p92='?', @p93='?', @p94='?' (Size = 450), @p95='?', @p96='?', @p97='?', @p98='?', @p99='?', @p100='?' (Size = 450), @p101='?', @p102='?', @p103='?', @p104='?', @p105='?', @p106='?' (Size = 450), @p107='?', @p108='?', @p109='?', @p110='?', @p111='?', @p112='?' (Size = 450), @p113='?', @p114='?', @p115='?', @p116='?', @p117='?', @p118='?' (Size = 450), @p119='?', @p120='?', @p121='?', @p122='?', @p123='?', @p124='?' (Size = 450), @p125='?', @p126='?', @p127='?', @p128='?', @p129='?', @p130='?' (Size = 450), @p131='?', @p132='?', @p133='?', @p134='?', @p135='?', @p136='?' (Size = 450), @p137='?', @p138='?', @p139='?', @p140='?', @p141='?', @p142='?' (Size = 450), @p143='?'"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
MERGE [Permissions] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19),
(@p120, @p121, @p122, @p123, @p124, @p125, 20),
(@p126, @p127, @p128, @p129, @p130, @p131, 21),
(@p132, @p133, @p134, @p135, @p136, @p137, 22),
(@p138, @p139, @p140, @p141, @p142, @p143, 23)) AS i ([CanCreate], [CanDelete], [CanRead], [CanUpdate], [FunctionId], [RoleId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CanCreate], [CanDelete], [CanRead], [CanUpdate], [FunctionId], [RoleId])
VALUES (i.[CanCreate], i.[CanDelete], i.[CanRead], i.[CanUpdate], i.[FunctionId], i.[RoleId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted0;

SELECT [t].[Id] FROM [Permissions] t
INNER JOIN @inserted0 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2017-11-26T13:06:25.7356771+07:00 0HL9KIENC1LCD:00000004 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2017-11-26T13:06:25.7461132+07:00 0HL9KIENC1LCD:00000004 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.SavePermission (ShopApp.Web)" in 728.5845ms (afa2e885)
2017-11-26T13:06:25.7584309+07:00 0HL9KIENC1LCD:00000004 [INF] Request finished in 813.7818ms 200  (791a596a)
2017-11-26T13:06:28.5448284+07:00 0HL9KIENC1LCD:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:06:28.5709166+07:00 0HL9KIENC1LCB:0000000F [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:06:28.5746812+07:00 0HL9KIENC1LCD:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:28.6194997+07:00 0HL9KIENC1LCB:0000000F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:28.6356262+07:00 0HL9KIENC1LCD:00000005 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:28.6451008+07:00 0HL9KIENC1LCB:0000000F [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:28.6509405+07:00 0HL9KIENC1LCD:00000005 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:28.6914774+07:00 0HL9KIENC1LCB:0000000F [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:28.7008507+07:00 0HL9KIENC1LCD:00000005 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:28.7098332+07:00 0HL9KIENC1LCB:0000000F [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:28.7373505+07:00 0HL9KIENC1LCD:00000005 [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:06:28.7521662+07:00 0HL9KIENC1LCD:00000005 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:28.7710082+07:00 0HL9KIENC1LCD:00000005 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 157.611ms (afa2e885)
2017-11-26T13:06:28.7780850+07:00 0HL9KIENC1LCD:00000005 [INF] Request finished in 233.3358ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:28.8001918+07:00 0HL9KIENC1LCB:0000000F [INF] Executed DbCommand ("35"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:06:28.8096365+07:00 0HL9KIENC1LCB:0000000F [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:28.8275779+07:00 0HL9KIENC1LCB:0000000F [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 197.3949ms (afa2e885)
2017-11-26T13:06:28.8396780+07:00 0HL9KIENC1LCB:0000000F [INF] Request finished in 288.5788ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:31.9186609+07:00 0HL9KIENC1LCB:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:06:31.9240109+07:00 0HL9KIENC1LCD:00000006 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:06:31.9599425+07:00 0HL9KIENC1LCD:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:31.9612725+07:00 0HL9KIENC1LCB:00000010 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:32.0072025+07:00 0HL9KIENC1LCB:00000010 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:32.0105951+07:00 0HL9KIENC1LCD:00000006 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:32.0697675+07:00 0HL9KIENC1LCB:00000010 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:32.0715871+07:00 0HL9KIENC1LCD:00000006 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["33e47580-dc65-4613-fdcd-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:32.1068544+07:00 0HL9KIENC1LCD:00000006 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:32.1125396+07:00 0HL9KIENC1LCB:00000010 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:32.2333084+07:00 0HL9KIENC1LCD:00000006 [INF] Executed DbCommand ("6"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:06:32.2596420+07:00 0HL9KIENC1LCB:00000010 [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:06:32.2602852+07:00 0HL9KIENC1LCD:00000006 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:32.3116384+07:00 0HL9KIENC1LCD:00000006 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 300.2961ms (afa2e885)
2017-11-26T13:06:32.3349156+07:00 0HL9KIENC1LCB:00000010 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:32.3840958+07:00 0HL9KIENC1LCD:00000006 [INF] Request finished in 396.6227ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:32.3885618+07:00 0HL9KIENC1LCB:00000010 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 374.6383ms (afa2e885)
2017-11-26T13:06:32.3930804+07:00 0HL9KIENC1LCB:00000010 [INF] Request finished in 475.4021ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:35.9124613+07:00 0HL9KIENC1LCB:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:06:35.9150661+07:00 0HL9KIENC1LCD:00000007 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:06:35.9403794+07:00 0HL9KIENC1LCB:00000011 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:35.9701441+07:00 0HL9KIENC1LCD:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:35.9737359+07:00 0HL9KIENC1LCB:00000011 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:36.0392573+07:00 0HL9KIENC1LCD:00000007 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:36.0421786+07:00 0HL9KIENC1LCB:00000011 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:36.0520091+07:00 0HL9KIENC1LCD:00000007 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["33e47580-dc65-4613-fdcd-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:36.0679798+07:00 0HL9KIENC1LCB:00000011 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:36.0755540+07:00 0HL9KIENC1LCD:00000007 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:36.0901438+07:00 0HL9KIENC1LCB:00000011 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:06:36.1259714+07:00 0HL9KIENC1LCB:00000011 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:36.1276512+07:00 0HL9KIENC1LCD:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:06:36.1448802+07:00 0HL9KIENC1LCB:00000011 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 185.1806ms (afa2e885)
2017-11-26T13:06:36.1599862+07:00 0HL9KIENC1LCD:00000007 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:36.1720743+07:00 0HL9KIENC1LCD:00000007 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 188.4565ms (afa2e885)
2017-11-26T13:06:36.1754052+07:00 0HL9KIENC1LCB:00000011 [INF] Request finished in 287.4362ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:36.2026670+07:00 0HL9KIENC1LCD:00000007 [INF] Request finished in 306.1494ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:38.3112975+07:00 0HL9KIENC1LCB:00000012 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:06:38.3202188+07:00 0HL9KIENC1LCD:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:06:38.3322030+07:00 0HL9KIENC1LCB:00000012 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:38.3337597+07:00 0HL9KIENC1LCD:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:38.3563534+07:00 0HL9KIENC1LCB:00000012 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:38.3578562+07:00 0HL9KIENC1LCD:00000008 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:38.4077866+07:00 0HL9KIENC1LCD:00000008 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:38.4086958+07:00 0HL9KIENC1LCB:00000012 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:38.4593428+07:00 0HL9KIENC1LCD:00000008 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:38.4694338+07:00 0HL9KIENC1LCB:00000012 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:38.4748013+07:00 0HL9KIENC1LCD:00000008 [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:06:38.5070297+07:00 0HL9KIENC1LCD:00000008 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:38.5287053+07:00 0HL9KIENC1LCD:00000008 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 174.4102ms (afa2e885)
2017-11-26T13:06:38.5421606+07:00 0HL9KIENC1LCD:00000008 [INF] Request finished in 227.1284ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:38.5548140+07:00 0HL9KIENC1LCB:00000012 [INF] Executed DbCommand ("8"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:06:38.5700770+07:00 0HL9KIENC1LCB:00000012 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:38.5878601+07:00 0HL9KIENC1LCB:00000012 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 237.7654ms (afa2e885)
2017-11-26T13:06:38.6378534+07:00 0HL9KIENC1LCB:00000012 [INF] Request finished in 281.5187ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:40.8171940+07:00 0HL9KIENC1LCB:00000013 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:06:40.8289477+07:00 0HL9KIENC1LCD:00000009 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:06:40.8510514+07:00 0HL9KIENC1LCB:00000013 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:40.8967292+07:00 0HL9KIENC1LCD:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:40.8990419+07:00 0HL9KIENC1LCB:00000013 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:40.9438096+07:00 0HL9KIENC1LCD:00000009 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:40.9445909+07:00 0HL9KIENC1LCB:00000013 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:40.9536003+07:00 0HL9KIENC1LCD:00000009 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:40.9883742+07:00 0HL9KIENC1LCD:00000009 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:41.0275387+07:00 0HL9KIENC1LCB:00000013 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:41.0824645+07:00 0HL9KIENC1LCD:00000009 [INF] Executed DbCommand ("36"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:06:41.0962627+07:00 0HL9KIENC1LCB:00000013 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:06:41.1148538+07:00 0HL9KIENC1LCB:00000013 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:41.1193988+07:00 0HL9KIENC1LCD:00000009 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:41.1389764+07:00 0HL9KIENC1LCB:00000013 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 262.8623ms (afa2e885)
2017-11-26T13:06:41.1418584+07:00 0HL9KIENC1LCD:00000009 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 220.6913ms (afa2e885)
2017-11-26T13:06:41.1540209+07:00 0HL9KIENC1LCD:00000009 [INF] Request finished in 328.4418ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:41.1648982+07:00 0HL9KIENC1LCB:00000013 [INF] Request finished in 330.648ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:43.1136734+07:00 0HL9KIENC1LCD:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:06:43.1412375+07:00 0HL9KIENC1LCB:00000014 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:06:43.1423185+07:00 0HL9KIENC1LCD:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:43.1909595+07:00 0HL9KIENC1LCD:0000000A [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:43.1925910+07:00 0HL9KIENC1LCB:00000014 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:43.2388876+07:00 0HL9KIENC1LCD:0000000A [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:43.2405884+07:00 0HL9KIENC1LCB:00000014 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:43.2443025+07:00 0HL9KIENC1LCD:0000000A [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:43.2524660+07:00 0HL9KIENC1LCB:00000014 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["9d1f9df9-ddaf-4ba7-fdcb-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:43.2594954+07:00 0HL9KIENC1LCB:00000014 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:43.2675451+07:00 0HL9KIENC1LCD:0000000A [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:06:43.2728420+07:00 0HL9KIENC1LCD:0000000A [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:43.2857974+07:00 0HL9KIENC1LCD:0000000A [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 130.5871ms (afa2e885)
2017-11-26T13:06:43.2918944+07:00 0HL9KIENC1LCD:0000000A [INF] Request finished in 187.0473ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:43.3126408+07:00 0HL9KIENC1LCB:00000014 [INF] Executed DbCommand ("8"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:06:43.3225410+07:00 0HL9KIENC1LCB:00000014 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:43.3372506+07:00 0HL9KIENC1LCB:00000014 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 128.3775ms (afa2e885)
2017-11-26T13:06:43.3491710+07:00 0HL9KIENC1LCB:00000014 [INF] Request finished in 236.9161ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:45.2540727+07:00 0HL9KIENC1LCB:00000015 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:06:45.2559497+07:00 0HL9KIENC1LCD:0000000B [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:06:45.2669797+07:00 0HL9KIENC1LCB:00000015 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:45.2958224+07:00 0HL9KIENC1LCD:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:45.3156647+07:00 0HL9KIENC1LCB:00000015 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:45.3414608+07:00 0HL9KIENC1LCD:0000000B [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:45.3438283+07:00 0HL9KIENC1LCB:00000015 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:45.3723170+07:00 0HL9KIENC1LCD:0000000B [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["33e47580-dc65-4613-fdcd-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:45.3731342+07:00 0HL9KIENC1LCB:00000015 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:45.3775480+07:00 0HL9KIENC1LCD:0000000B [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:45.4078405+07:00 0HL9KIENC1LCB:00000015 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:06:45.4402797+07:00 0HL9KIENC1LCB:00000015 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:45.4538701+07:00 0HL9KIENC1LCD:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:06:45.4719343+07:00 0HL9KIENC1LCB:00000015 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 173.0801ms (afa2e885)
2017-11-26T13:06:45.4733780+07:00 0HL9KIENC1LCD:0000000B [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:45.5263502+07:00 0HL9KIENC1LCD:0000000B [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 175.8137ms (afa2e885)
2017-11-26T13:06:45.5298733+07:00 0HL9KIENC1LCB:00000015 [INF] Request finished in 224.7053ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:45.5609859+07:00 0HL9KIENC1LCD:0000000B [INF] Request finished in 278.2604ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:47.8238359+07:00 0HL9KIENC1LCB:00000016 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:06:47.8322042+07:00 0HL9KIENC1LCD:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:06:47.8384373+07:00 0HL9KIENC1LCB:00000016 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:47.8503620+07:00 0HL9KIENC1LCD:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:47.8514474+07:00 0HL9KIENC1LCB:00000016 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:47.8583108+07:00 0HL9KIENC1LCD:0000000C [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:47.8693670+07:00 0HL9KIENC1LCB:00000016 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:47.8745415+07:00 0HL9KIENC1LCD:0000000C [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:47.8766037+07:00 0HL9KIENC1LCB:00000016 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:47.8864346+07:00 0HL9KIENC1LCD:0000000C [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:47.9039838+07:00 0HL9KIENC1LCB:00000016 [INF] Executed DbCommand ("7"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:06:47.9312233+07:00 0HL9KIENC1LCD:0000000C [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:06:47.9321201+07:00 0HL9KIENC1LCB:00000016 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:47.9602738+07:00 0HL9KIENC1LCB:00000016 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 92.2642ms (afa2e885)
2017-11-26T13:06:47.9619506+07:00 0HL9KIENC1LCD:0000000C [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:47.9702698+07:00 0HL9KIENC1LCB:00000016 [INF] Request finished in 143.924ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:48.0183095+07:00 0HL9KIENC1LCD:0000000C [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 113.3514ms (afa2e885)
2017-11-26T13:06:48.0387334+07:00 0HL9KIENC1LCD:0000000C [INF] Request finished in 203.2969ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:53.6827579+07:00 0HL9KIENC1LCD:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:06:53.6854936+07:00 0HL9KIENC1LCB:00000017 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:06:53.6939129+07:00 0HL9KIENC1LCD:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:53.6989404+07:00 0HL9KIENC1LCB:00000017 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:53.7044481+07:00 0HL9KIENC1LCD:0000000D [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:53.7160927+07:00 0HL9KIENC1LCB:00000017 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:53.7173072+07:00 0HL9KIENC1LCD:0000000D [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:53.7435096+07:00 0HL9KIENC1LCB:00000017 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:53.7508494+07:00 0HL9KIENC1LCD:0000000D [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:53.7587478+07:00 0HL9KIENC1LCB:00000017 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:53.7665268+07:00 0HL9KIENC1LCD:0000000D [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:06:53.7745453+07:00 0HL9KIENC1LCD:0000000D [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:53.8067700+07:00 0HL9KIENC1LCB:00000017 [INF] Executed DbCommand ("10"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:06:53.8104020+07:00 0HL9KIENC1LCD:0000000D [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 77.3502ms (afa2e885)
2017-11-26T13:06:53.8161090+07:00 0HL9KIENC1LCB:00000017 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:53.8544602+07:00 0HL9KIENC1LCB:00000017 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 117.6788ms (afa2e885)
2017-11-26T13:06:53.8752365+07:00 0HL9KIENC1LCD:0000000D [INF] Request finished in 153.9328ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:53.8901043+07:00 0HL9KIENC1LCB:00000017 [INF] Request finished in 197.1712ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:56.8615901+07:00 0HL9KIENC1LCB:00000018 [INF] Request starting HTTP/1.1 POST http://localhost:28064/admin/role/SavePermission application/x-www-form-urlencoded; charset=UTF-8 7118 (ca22a1cb)
2017-11-26T13:06:56.8724503+07:00 0HL9KIENC1LCB:00000018 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:56.8771554+07:00 0HL9KIENC1LCB:00000018 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:56.8864787+07:00 0HL9KIENC1LCB:00000018 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.SavePermission (ShopApp.Web)" with arguments (["System.Collections.Generic.List`1[ShopApp.Application.ViewModels.System.PermissionViewModel]", "6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:56.8918029+07:00 0HL9KIENC1LCB:00000018 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:56.8987280+07:00 0HL9KIENC1LCB:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CanCreate], [x].[CanDelete], [x].[CanRead], [x].[CanUpdate], [x].[FunctionId], [x].[RoleId]
FROM [Permissions] AS [x]
WHERE [x].[RoleId] = @__roleId_0" (0723d8ff)
2017-11-26T13:06:56.9502440+07:00 0HL9KIENC1LCB:00000018 [INF] Executed DbCommand ("22"ms) [Parameters=["@p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?', @p18='?', @p19='?', @p20='?', @p21='?', @p22='?', @p23='?', @p24='?', @p25='?', @p26='?', @p27='?', @p28='?' (Size = 450), @p29='?', @p30='?', @p31='?', @p32='?', @p33='?', @p34='?' (Size = 450), @p35='?', @p36='?', @p37='?', @p38='?', @p39='?', @p40='?' (Size = 450), @p41='?', @p42='?', @p43='?', @p44='?', @p45='?', @p46='?' (Size = 450), @p47='?', @p48='?', @p49='?', @p50='?', @p51='?', @p52='?' (Size = 450), @p53='?', @p54='?', @p55='?', @p56='?', @p57='?', @p58='?' (Size = 450), @p59='?', @p60='?', @p61='?', @p62='?', @p63='?', @p64='?' (Size = 450), @p65='?', @p66='?', @p67='?', @p68='?', @p69='?', @p70='?' (Size = 450), @p71='?', @p72='?', @p73='?', @p74='?', @p75='?', @p76='?' (Size = 450), @p77='?', @p78='?', @p79='?', @p80='?', @p81='?', @p82='?' (Size = 450), @p83='?', @p84='?', @p85='?', @p86='?', @p87='?', @p88='?' (Size = 450), @p89='?', @p90='?', @p91='?', @p92='?', @p93='?', @p94='?' (Size = 450), @p95='?', @p96='?', @p97='?', @p98='?', @p99='?', @p100='?' (Size = 450), @p101='?', @p102='?', @p103='?', @p104='?', @p105='?', @p106='?' (Size = 450), @p107='?', @p108='?', @p109='?', @p110='?', @p111='?', @p112='?' (Size = 450), @p113='?', @p114='?', @p115='?', @p116='?', @p117='?', @p118='?' (Size = 450), @p119='?', @p120='?', @p121='?', @p122='?', @p123='?', @p124='?' (Size = 450), @p125='?', @p126='?', @p127='?', @p128='?', @p129='?', @p130='?' (Size = 450), @p131='?', @p132='?', @p133='?', @p134='?', @p135='?', @p136='?' (Size = 450), @p137='?', @p138='?', @p139='?', @p140='?', @p141='?', @p142='?' (Size = 450), @p143='?', @p144='?', @p145='?', @p146='?', @p147='?', @p148='?' (Size = 450), @p149='?', @p150='?', @p151='?', @p152='?', @p153='?', @p154='?' (Size = 450), @p155='?', @p156='?', @p157='?', @p158='?', @p159='?', @p160='?' (Size = 450), @p161='?', @p162='?', @p163='?', @p164='?', @p165='?', @p166='?' (Size = 450), @p167='?'"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Permissions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p6;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p10;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p11;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p12;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p13;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p15;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p17;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p18;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p19;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p20;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p23;
SELECT @@ROWCOUNT;

DECLARE @inserted24 TABLE ([Id] int, [_Position] [int]);
MERGE [Permissions] USING (
VALUES (@p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, 2),
(@p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, 4),
(@p54, @p55, @p56, @p57, @p58, @p59, 5),
(@p60, @p61, @p62, @p63, @p64, @p65, 6),
(@p66, @p67, @p68, @p69, @p70, @p71, 7),
(@p72, @p73, @p74, @p75, @p76, @p77, 8),
(@p78, @p79, @p80, @p81, @p82, @p83, 9),
(@p84, @p85, @p86, @p87, @p88, @p89, 10),
(@p90, @p91, @p92, @p93, @p94, @p95, 11),
(@p96, @p97, @p98, @p99, @p100, @p101, 12),
(@p102, @p103, @p104, @p105, @p106, @p107, 13),
(@p108, @p109, @p110, @p111, @p112, @p113, 14),
(@p114, @p115, @p116, @p117, @p118, @p119, 15),
(@p120, @p121, @p122, @p123, @p124, @p125, 16),
(@p126, @p127, @p128, @p129, @p130, @p131, 17),
(@p132, @p133, @p134, @p135, @p136, @p137, 18),
(@p138, @p139, @p140, @p141, @p142, @p143, 19),
(@p144, @p145, @p146, @p147, @p148, @p149, 20),
(@p150, @p151, @p152, @p153, @p154, @p155, 21),
(@p156, @p157, @p158, @p159, @p160, @p161, 22),
(@p162, @p163, @p164, @p165, @p166, @p167, 23)) AS i ([CanCreate], [CanDelete], [CanRead], [CanUpdate], [FunctionId], [RoleId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CanCreate], [CanDelete], [CanRead], [CanUpdate], [FunctionId], [RoleId])
VALUES (i.[CanCreate], i.[CanDelete], i.[CanRead], i.[CanUpdate], i.[FunctionId], i.[RoleId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted24;

SELECT [t].[Id] FROM [Permissions] t
INNER JOIN @inserted24 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2017-11-26T13:06:56.9609893+07:00 0HL9KIENC1LCB:00000018 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2017-11-26T13:06:56.9674182+07:00 0HL9KIENC1LCB:00000018 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.SavePermission (ShopApp.Web)" in 88.8053ms (afa2e885)
2017-11-26T13:06:56.9851676+07:00 0HL9KIENC1LCB:00000018 [INF] Request finished in 110.2445ms 200  (791a596a)
2017-11-26T13:06:58.2613111+07:00 0HL9KIENC1LCB:00000019 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:06:58.2665349+07:00 0HL9KIENC1LCD:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:06:58.3329497+07:00 0HL9KIENC1LCD:0000000E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:58.3359715+07:00 0HL9KIENC1LCB:00000019 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:06:58.4049320+07:00 0HL9KIENC1LCD:0000000E [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:58.4299467+07:00 0HL9KIENC1LCB:00000019 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:06:58.4504750+07:00 0HL9KIENC1LCD:0000000E [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:58.4746991+07:00 0HL9KIENC1LCD:0000000E [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:58.4895104+07:00 0HL9KIENC1LCB:00000019 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:06:58.4931040+07:00 0HL9KIENC1LCD:0000000E [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:06:58.5079910+07:00 0HL9KIENC1LCB:00000019 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:06:58.5212633+07:00 0HL9KIENC1LCD:0000000E [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:58.5375830+07:00 0HL9KIENC1LCB:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:06:58.5406116+07:00 0HL9KIENC1LCD:0000000E [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 186.8322ms (afa2e885)
2017-11-26T13:06:58.6100221+07:00 0HL9KIENC1LCB:00000019 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:06:58.6247103+07:00 0HL9KIENC1LCB:00000019 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 272.452ms (afa2e885)
2017-11-26T13:06:58.6341691+07:00 0HL9KIENC1LCD:0000000E [INF] Request finished in 323.7098ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:06:58.6573150+07:00 0HL9KIENC1LCB:00000019 [INF] Request finished in 407.8477ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:00.0863522+07:00 0HL9KIENC1LCB:0000001A [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:07:00.0883566+07:00 0HL9KIENC1LCD:0000000F [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:07:00.0986341+07:00 0HL9KIENC1LCB:0000001A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:00.1051887+07:00 0HL9KIENC1LCD:0000000F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:00.1155444+07:00 0HL9KIENC1LCB:0000001A [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:00.1179003+07:00 0HL9KIENC1LCD:0000000F [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:00.1284608+07:00 0HL9KIENC1LCB:0000001A [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:00.1319916+07:00 0HL9KIENC1LCD:0000000F [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["33e47580-dc65-4613-fdcd-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:00.1731336+07:00 0HL9KIENC1LCB:0000001A [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:00.1811025+07:00 0HL9KIENC1LCD:0000000F [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:00.1868775+07:00 0HL9KIENC1LCB:0000001A [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:07:00.2097515+07:00 0HL9KIENC1LCB:0000001A [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:00.2425299+07:00 0HL9KIENC1LCD:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:07:00.2433241+07:00 0HL9KIENC1LCB:0000001A [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 111.1007ms (afa2e885)
2017-11-26T13:07:00.2523309+07:00 0HL9KIENC1LCD:0000000F [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:00.2834965+07:00 0HL9KIENC1LCD:0000000F [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 146.108ms (afa2e885)
2017-11-26T13:07:00.2889612+07:00 0HL9KIENC1LCB:0000001A [INF] Request finished in 166.6174ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:00.2992252+07:00 0HL9KIENC1LCD:0000000F [INF] Request finished in 203.3418ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:10.2639507+07:00 0HL9KIENC1LCD:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/index   (ca22a1cb)
2017-11-26T13:07:10.2683606+07:00 0HL9KIENC1LCD:00000010 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:10.2736370+07:00 0HL9KIENC1LCD:00000010 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:10.2790104+07:00 0HL9KIENC1LCD:00000010 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:10.2842052+07:00 0HL9KIENC1LCD:00000010 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Role/Index.cshtml". (9707eebe)
2017-11-26T13:07:10.2923918+07:00 0HL9KIENC1LCD:00000010 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:10.3047193+07:00 0HL9KIENC1LCD:00000010 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:07:10.3181614+07:00 0HL9KIENC1LCD:00000010 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.Index (ShopApp.Web)" in 37.4176ms (afa2e885)
2017-11-26T13:07:10.3496978+07:00 0HL9KIENC1LCD:00000010 [INF] Request finished in 60.5707ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:07:10.3684069+07:00 0HL9KIENC1LCD:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:28064/lib/jquery-treegrid/css/jquery.treegrid.css   (ca22a1cb)
2017-11-26T13:07:10.3692365+07:00 0HL9KIENC1LCB:0000001B [INF] Request starting HTTP/1.1 GET http://localhost:28064/lib/jquery-treegrid/js/jquery.treegrid.js   (ca22a1cb)
2017-11-26T13:07:10.3922173+07:00 0HL9KIENC1LCD:00000011 [INF] The file "/lib/jquery-treegrid/css/jquery.treegrid.css" was not modified (f1f8d725)
2017-11-26T13:07:10.4054234+07:00 0HL9KIENC1LCD:00000011 [INF] Request finished in 39.8945ms 304 text/css (791a596a)
2017-11-26T13:07:10.4287604+07:00 0HL9KIENC1LCB:0000001B [INF] The file "/lib/jquery-treegrid/js/jquery.treegrid.js" was not modified (f1f8d725)
2017-11-26T13:07:10.4584486+07:00 0HL9KIENC1LCB:0000001B [INF] Request finished in 91.3631ms 304 application/javascript (791a596a)
2017-11-26T13:07:10.4635642+07:00 0HL9KIENC1LCD:00000012 [INF] Request starting HTTP/1.1 GET http://localhost:28064/app/controllers/role/index.js?v=W_lGPPi4-AK_axm_dDy8Jy54xgqJ3Z19EC-nihFZAec   (ca22a1cb)
2017-11-26T13:07:10.4694102+07:00 0HL9KIENC1LCD:00000012 [INF] The file "/app/controllers/role/index.js" was not modified (f1f8d725)
2017-11-26T13:07:10.4754004+07:00 0HL9KIENC1LCD:00000012 [INF] Request finished in 39.0897ms 304 application/javascript (791a596a)
2017-11-26T13:07:10.9912809+07:00 0HL9KIENC1LCD:00000013 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:07:11.0249193+07:00 0HL9KIENC1LCD:00000013 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:11.0382762+07:00 0HL9KIENC1LCD:00000013 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:11.0481623+07:00 0HL9KIENC1LCD:00000013 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:11.0576306+07:00 0HL9KIENC1LCD:00000013 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:11.0727028+07:00 0HL9KIENC1LCD:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2017-11-26T13:07:11.0885551+07:00 0HL9KIENC1LCD:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [dto].[Id], [dto].[Name], [dto].[Description]
FROM [AppRoles] AS [dto]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:07:11.0977313+07:00 0HL9KIENC1LCD:00000013 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:11.1064623+07:00 0HL9KIENC1LCD:00000013 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" in 73.0027ms (afa2e885)
2017-11-26T13:07:11.1153284+07:00 0HL9KIENC1LCD:00000013 [INF] Request finished in 256.8033ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:11.1366898+07:00 0HL9KIENC1LCD:00000014 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:07:11.1704072+07:00 0HL9KIENC1LCD:00000014 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:11.2182464+07:00 0HL9KIENC1LCD:00000014 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:11.2386887+07:00 0HL9KIENC1LCD:00000014 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:11.2545773+07:00 0HL9KIENC1LCD:00000014 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:11.2702063+07:00 0HL9KIENC1LCD:00000014 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2017-11-26T13:07:11.2805800+07:00 0HL9KIENC1LCD:00000014 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [dto].[Id], [dto].[Name], [dto].[Description]
FROM [AppRoles] AS [dto]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:07:11.2891930+07:00 0HL9KIENC1LCD:00000014 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:11.3035202+07:00 0HL9KIENC1LCD:00000014 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" in 119.3441ms (afa2e885)
2017-11-26T13:07:11.3195919+07:00 0HL9KIENC1LCD:00000014 [INF] Request finished in 176.4642ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:41.4649434+07:00 0HL9KIENC1LCD:00000015 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/index   (ca22a1cb)
2017-11-26T13:07:41.4697383+07:00 0HL9KIENC1LCD:00000015 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:41.4741829+07:00 0HL9KIENC1LCD:00000015 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:41.4802753+07:00 0HL9KIENC1LCD:00000015 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:41.4844162+07:00 0HL9KIENC1LCD:00000015 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Role/Index.cshtml". (9707eebe)
2017-11-26T13:07:41.4910825+07:00 0HL9KIENC1LCD:00000015 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:41.4985839+07:00 0HL9KIENC1LCD:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:07:41.5104505+07:00 0HL9KIENC1LCD:00000015 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.Index (ShopApp.Web)" in 30.6876ms (afa2e885)
2017-11-26T13:07:41.5564366+07:00 0HL9KIENC1LCD:00000015 [INF] Request finished in 50.6274ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:07:41.6066813+07:00 0HL9KIENC1LCB:0000001C [INF] Request starting HTTP/1.1 GET http://localhost:28064/lib/jquery-treegrid/js/jquery.treegrid.js   (ca22a1cb)
2017-11-26T13:07:41.6202020+07:00 0HL9KIENC1LCB:0000001C [INF] The file "/lib/jquery-treegrid/js/jquery.treegrid.js" was not modified (f1f8d725)
2017-11-26T13:07:41.6451436+07:00 0HL9KIENC1LCD:00000016 [INF] Request starting HTTP/1.1 GET http://localhost:28064/lib/jquery-treegrid/css/jquery.treegrid.css   (ca22a1cb)
2017-11-26T13:07:41.6685619+07:00 0HL9KIENC1LCB:0000001C [INF] Request finished in 68.2168ms 304 application/javascript (791a596a)
2017-11-26T13:07:41.6933843+07:00 0HL9KIENC1LCD:00000016 [INF] The file "/lib/jquery-treegrid/css/jquery.treegrid.css" was not modified (f1f8d725)
2017-11-26T13:07:41.7053646+07:00 0HL9KIENC1LCD:00000016 [INF] Request finished in 116.2364ms 304 text/css (791a596a)
2017-11-26T13:07:41.7160858+07:00 0HL9KIENC1LCB:0000001D [INF] Request starting HTTP/1.1 GET http://localhost:28064/app/controllers/role/index.js?v=mRPKJSXMoc0q6eC3MStM_rsr4A7PW6SgzbXWcdfX2AA   (ca22a1cb)
2017-11-26T13:07:41.7232546+07:00 0HL9KIENC1LCB:0000001D [INF] Sending file. Request path: '"/app/controllers/role/index.js"'. Physical path: '"D:\KhanhAck\AllInOne\Core\ShopAppCore\ShopApp.Web\wwwroot\app\controllers\role\index.js"' (27b0a520)
2017-11-26T13:07:41.7308934+07:00 0HL9KIENC1LCB:0000001D [INF] Request finished in 29.0886ms 200 application/javascript (791a596a)
2017-11-26T13:07:42.1223192+07:00 0HL9KIENC1LCB:0000001E [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:07:42.1304909+07:00 0HL9KIENC1LCB:0000001E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:42.1443520+07:00 0HL9KIENC1LCB:0000001E [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:42.1520125+07:00 0HL9KIENC1LCB:0000001E [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:42.1607761+07:00 0HL9KIENC1LCB:0000001E [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:42.1676806+07:00 0HL9KIENC1LCB:0000001E [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2017-11-26T13:07:42.1773524+07:00 0HL9KIENC1LCB:0000001E [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [dto].[Id], [dto].[Name], [dto].[Description]
FROM [AppRoles] AS [dto]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:07:42.1854791+07:00 0HL9KIENC1LCB:0000001E [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:42.1993889+07:00 0HL9KIENC1LCB:0000001E [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" in 55.0083ms (afa2e885)
2017-11-26T13:07:42.2112953+07:00 0HL9KIENC1LCB:0000001E [INF] Request finished in 88.5462ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:42.2803665+07:00 0HL9KIENC1LCB:0000001F [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:07:42.2901830+07:00 0HL9KIENC1LCB:0000001F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:42.2964181+07:00 0HL9KIENC1LCD:00000017 [INF] Request starting HTTP/1.1 GET http://localhost:28064/favicon.ico   (ca22a1cb)
2017-11-26T13:07:42.3032893+07:00 0HL9KIENC1LCB:0000001F [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:42.3195773+07:00 0HL9KIENC1LCD:00000017 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"D:\KhanhAck\AllInOne\Core\ShopAppCore\ShopApp.Web\wwwroot\favicon.ico"' (27b0a520)
2017-11-26T13:07:42.3323868+07:00 0HL9KIENC1LCB:0000001F [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:42.3391789+07:00 0HL9KIENC1LCB:0000001F [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:42.3522792+07:00 0HL9KIENC1LCB:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2017-11-26T13:07:42.3712008+07:00 0HL9KIENC1LCB:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [dto].[Id], [dto].[Name], [dto].[Description]
FROM [AppRoles] AS [dto]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:07:42.3825772+07:00 0HL9KIENC1LCB:0000001F [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:42.3967364+07:00 0HL9KIENC1LCB:0000001F [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" in 88.4914ms (afa2e885)
2017-11-26T13:07:42.4013444+07:00 0HL9KIENC1LCD:00000017 [INF] Request finished in 100.3302ms 200 image/x-icon (791a596a)
2017-11-26T13:07:42.4138823+07:00 0HL9KIENC1LCB:0000001F [INF] Request finished in 162.8934ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:43.4863060+07:00 0HL9KIENC1LCB:00000020 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:07:43.4925262+07:00 0HL9KIENC1LCD:00000018 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:07:43.4969507+07:00 0HL9KIENC1LCB:00000020 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:43.5098005+07:00 0HL9KIENC1LCB:00000020 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:43.5301538+07:00 0HL9KIENC1LCB:00000020 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:43.5355299+07:00 0HL9KIENC1LCB:00000020 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:43.5402927+07:00 0HL9KIENC1LCD:00000018 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:43.5905458+07:00 0HL9KIENC1LCD:00000018 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:43.5946411+07:00 0HL9KIENC1LCB:00000020 [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:07:43.6425939+07:00 0HL9KIENC1LCD:00000018 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:43.6432687+07:00 0HL9KIENC1LCB:00000020 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:43.6916334+07:00 0HL9KIENC1LCD:00000018 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:43.6924293+07:00 0HL9KIENC1LCB:00000020 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 149.7837ms (afa2e885)
2017-11-26T13:07:43.6976198+07:00 0HL9KIENC1LCB:00000020 [INF] Request finished in 210.4426ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:43.7051726+07:00 0HL9KIENC1LCD:00000018 [INF] Executed DbCommand ("2"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:07:43.7131158+07:00 0HL9KIENC1LCD:00000018 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:43.7222787+07:00 0HL9KIENC1LCD:00000018 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 171.7463ms (afa2e885)
2017-11-26T13:07:43.7348022+07:00 0HL9KIENC1LCD:00000018 [INF] Request finished in 239.0552ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:43.7725845+07:00 0HL9KIENC1LCD:00000019 [INF] Request starting HTTP/1.1 GET http://localhost:28064/lib/jquery-treegrid/img/collapse.png   (ca22a1cb)
2017-11-26T13:07:43.7780778+07:00 0HL9KIENC1LCD:00000019 [INF] The file "/lib/jquery-treegrid/img/collapse.png" was not modified (f1f8d725)
2017-11-26T13:07:43.7850806+07:00 0HL9KIENC1LCD:00000019 [INF] Request finished in 10.9872ms 304 image/png (791a596a)
2017-11-26T13:07:46.4066596+07:00 0HL9KIENC1LCD:0000001A [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:07:46.4166022+07:00 0HL9KIENC1LCB:00000021 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:07:46.4232655+07:00 0HL9KIENC1LCD:0000001A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:46.4296290+07:00 0HL9KIENC1LCB:00000021 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:46.4359985+07:00 0HL9KIENC1LCD:0000001A [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:46.4536935+07:00 0HL9KIENC1LCD:0000001A [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:46.4560439+07:00 0HL9KIENC1LCB:00000021 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:46.4681076+07:00 0HL9KIENC1LCD:0000001A [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:46.4730188+07:00 0HL9KIENC1LCB:00000021 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["33e47580-dc65-4613-fdcd-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:46.5033283+07:00 0HL9KIENC1LCD:0000001A [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:07:46.5174743+07:00 0HL9KIENC1LCB:00000021 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:46.5202809+07:00 0HL9KIENC1LCD:0000001A [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:46.5608238+07:00 0HL9KIENC1LCD:0000001A [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 97.0535ms (afa2e885)
2017-11-26T13:07:46.7195375+07:00 0HL9KIENC1LCB:00000021 [INF] Executed DbCommand ("19"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:07:46.7837767+07:00 0HL9KIENC1LCD:0000001A [INF] Request finished in 162.364ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:46.7931860+07:00 0HL9KIENC1LCB:00000021 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:46.8040159+07:00 0HL9KIENC1LCB:00000021 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 360.9495ms (afa2e885)
2017-11-26T13:07:46.8129491+07:00 0HL9KIENC1LCB:00000021 [INF] Request finished in 400.7162ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:48.5869292+07:00 0HL9KIENC1LCD:0000001B [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:07:48.6021413+07:00 0HL9KIENC1LCB:00000022 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:07:48.6209255+07:00 0HL9KIENC1LCB:00000022 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:48.6322079+07:00 0HL9KIENC1LCB:00000022 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:48.6449794+07:00 0HL9KIENC1LCB:00000022 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:48.6483582+07:00 0HL9KIENC1LCD:0000001B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:48.6566188+07:00 0HL9KIENC1LCB:00000022 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:48.6679016+07:00 0HL9KIENC1LCD:0000001B [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:48.6972143+07:00 0HL9KIENC1LCB:00000022 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:07:48.6995481+07:00 0HL9KIENC1LCD:0000001B [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["9d1f9df9-ddaf-4ba7-fdcb-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:48.7307232+07:00 0HL9KIENC1LCB:00000022 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:48.7347076+07:00 0HL9KIENC1LCD:0000001B [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:48.7482754+07:00 0HL9KIENC1LCB:00000022 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 110.9886ms (afa2e885)
2017-11-26T13:07:48.7680523+07:00 0HL9KIENC1LCD:0000001B [INF] Executed DbCommand ("9"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:07:48.7839456+07:00 0HL9KIENC1LCB:00000022 [INF] Request finished in 193.7269ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:48.8142774+07:00 0HL9KIENC1LCD:0000001B [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:48.8282947+07:00 0HL9KIENC1LCD:0000001B [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 163.5169ms (afa2e885)
2017-11-26T13:07:48.8359496+07:00 0HL9KIENC1LCD:0000001B [INF] Request finished in 266.8647ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:50.4620820+07:00 0HL9KIENC1LCD:0000001C [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:07:50.4655690+07:00 0HL9KIENC1LCB:00000023 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:07:50.5093501+07:00 0HL9KIENC1LCD:0000001C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:50.5226173+07:00 0HL9KIENC1LCD:0000001C [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:50.5308646+07:00 0HL9KIENC1LCB:00000023 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:50.5408580+07:00 0HL9KIENC1LCD:0000001C [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:50.6010782+07:00 0HL9KIENC1LCB:00000023 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:50.6126102+07:00 0HL9KIENC1LCB:00000023 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:50.6210923+07:00 0HL9KIENC1LCB:00000023 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:50.6358776+07:00 0HL9KIENC1LCD:0000001C [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:50.6743550+07:00 0HL9KIENC1LCB:00000023 [INF] Executed DbCommand ("7"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:07:50.6966045+07:00 0HL9KIENC1LCD:0000001C [INF] Executed DbCommand ("10"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:07:50.7100367+07:00 0HL9KIENC1LCB:00000023 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:50.7202748+07:00 0HL9KIENC1LCD:0000001C [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:50.7499227+07:00 0HL9KIENC1LCB:00000023 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 184.1436ms (afa2e885)
2017-11-26T13:07:50.7605251+07:00 0HL9KIENC1LCD:0000001C [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 210.1492ms (afa2e885)
2017-11-26T13:07:50.7620925+07:00 0HL9KIENC1LCB:00000023 [INF] Request finished in 314.1385ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:50.7836300+07:00 0HL9KIENC1LCD:0000001C [INF] Request finished in 326.9484ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:52.3267915+07:00 0HL9KIENC1LCB:00000024 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:07:52.3249645+07:00 0HL9KIENC1LCD:0000001D [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:07:52.3402266+07:00 0HL9KIENC1LCD:0000001D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:52.3520850+07:00 0HL9KIENC1LCB:00000024 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:07:52.3528522+07:00 0HL9KIENC1LCD:0000001D [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:52.3680532+07:00 0HL9KIENC1LCD:0000001D [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:52.3725530+07:00 0HL9KIENC1LCB:00000024 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:07:52.4107015+07:00 0HL9KIENC1LCB:00000024 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:07:52.4126058+07:00 0HL9KIENC1LCD:0000001D [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:52.4183616+07:00 0HL9KIENC1LCB:00000024 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:07:52.4327697+07:00 0HL9KIENC1LCD:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:07:52.4562081+07:00 0HL9KIENC1LCB:00000024 [INF] Executed DbCommand ("4"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:07:52.4873670+07:00 0HL9KIENC1LCD:0000001D [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:52.5039219+07:00 0HL9KIENC1LCB:00000024 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:07:52.5487576+07:00 0HL9KIENC1LCD:0000001D [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 151.2262ms (afa2e885)
2017-11-26T13:07:52.6689853+07:00 0HL9KIENC1LCB:00000024 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 154.1308ms (afa2e885)
2017-11-26T13:07:52.6895756+07:00 0HL9KIENC1LCB:00000024 [INF] Request finished in 370.2574ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:07:52.7036065+07:00 0HL9KIENC1LCD:0000001D [INF] Request finished in 251.6702ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:41:36.6281149+07:00  [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:41:37.2436679+07:00  [INF] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppRoles] AS [a])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:41:37.2845841+07:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AppUsers] AS [a])
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:41:37.3252767+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Functions] AS [f]" (0723d8ff)
2017-11-26T13:41:37.3631301+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Footers] AS [x]
WHERE [x].[Id] = 'DefaultFooterId'" (0723d8ff)
2017-11-26T13:41:37.3759242+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Colors] AS [c]" (0723d8ff)
2017-11-26T13:41:37.3909896+07:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AdvertistmentPages] AS [a]" (0723d8ff)
2017-11-26T13:41:37.4034831+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Slides] AS [s]" (0723d8ff)
2017-11-26T13:41:37.4130676+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Sizes] AS [s]" (0723d8ff)
2017-11-26T13:41:37.4270848+07:00  [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [ProductCategories] AS [p]" (0723d8ff)
2017-11-26T13:41:37.4442706+07:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SystemConfigs] AS [x]
        WHERE [x].[Id] = N'HomeTitle')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:41:37.4605462+07:00  [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SystemConfigs] AS [x]
        WHERE [x].[Id] = N'HomeMetaKeyword')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:41:37.4766645+07:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [SystemConfigs] AS [x]
        WHERE [x].[Id] = N'HomeMetaDescription')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:41:39.9119121+07:00 0HL9KJ2V8SF10:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:28064/   (ca22a1cb)
2017-11-26T13:41:40.2873194+07:00 0HL9KJ2V8SF10:00000001 [INF] Executing action method "ShopApp.Web.Controllers.HomeController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:41:46.0445880+07:00 0HL9KJ2V8SF10:00000001 [INF] Executing ViewResult, running view at path "/Views/Home/Index.cshtml". (9707eebe)
2017-11-26T13:41:47.2941229+07:00 0HL9KJ2V8SF10:00000001 [INF] Executed action "ShopApp.Web.Controllers.HomeController.Index (ShopApp.Web)" in 6992.1247ms (afa2e885)
2017-11-26T13:41:47.3238646+07:00 0HL9KJ2V8SF10:00000001 [INF] Request finished in 7434.639ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:45:11.9900130+07:00 0HL9KJ2V8SF10:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin   (ca22a1cb)
2017-11-26T13:45:12.0310724+07:00 0HL9KJ2V8SF10:00000002 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:45:12.4254123+07:00 0HL9KJ2V8SF10:00000002 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Login/Index.cshtml". (9707eebe)
2017-11-26T13:45:12.5063459+07:00 0HL9KJ2V8SF10:00000002 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" in 455.5077ms (afa2e885)
2017-11-26T13:45:12.5460557+07:00 0HL9KJ2V8SF10:00000002 [INF] Request finished in 542.9591ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:45:15.3716391+07:00 0HL9KJ2V8SF10:00000003 [INF] Request starting HTTP/1.1 POST http://localhost:28064/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2017-11-26T13:45:15.4601511+07:00 0HL9KJ2V8SF10:00000003 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" with arguments (["ShopApp.Web.Models.AccountViewModels.LoginViewModel"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:45:15.4744450+07:00 0HL9KJ2V8SF10:00000003 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:45:15.5512513+07:00 0HL9KJ2V8SF10:00000003 [INF] Executed DbCommand ("37"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2017-11-26T13:45:15.6788282+07:00 0HL9KJ2V8SF10:00000003 [INF] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2017-11-26T13:45:15.7709257+07:00 0HL9KJ2V8SF10:00000003 [INF] Executed DbCommand ("38"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:45:15.7930239+07:00 0HL9KJ2V8SF10:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2017-11-26T13:45:15.8267945+07:00 0HL9KJ2V8SF10:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2017-11-26T13:45:15.8339136+07:00 0HL9KJ2V8SF10:00000003 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:45:15.8431842+07:00 0HL9KJ2V8SF10:00000003 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-11-26T13:45:15.8476686+07:00 0HL9KJ2V8SF10:00000003 [INF] User logged in. (fdce0db4)
2017-11-26T13:45:15.8586205+07:00 0HL9KJ2V8SF10:00000003 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:45:15.9087415+07:00 0HL9KJ2V8SF10:00000003 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" in 493.8233ms (afa2e885)
2017-11-26T13:45:15.9162870+07:00 0HL9KJ2V8SF10:00000003 [INF] Request finished in 544.18ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:45:15.9255748+07:00 0HL9KJ2V8SF10:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/Home/Index   (ca22a1cb)
2017-11-26T13:45:15.9370355+07:00 0HL9KJ2V8SF10:00000004 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:45:15.9587180+07:00 0HL9KJ2V8SF10:00000004 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:45:15.9642805+07:00 0HL9KJ2V8SF10:00000004 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:45:16.2053826+07:00 0HL9KJ2V8SF10:00000004 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Home/Index.cshtml". (9707eebe)
2017-11-26T13:45:16.4897811+07:00 0HL9KJ2V8SF10:00000004 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:45:16.5447261+07:00 0HL9KJ2V8SF10:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:45:17.1181574+07:00 0HL9KJ2V8SF10:00000004 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" in 1102.0861ms (afa2e885)
2017-11-26T13:45:17.1550588+07:00 0HL9KJ2V8SF10:00000004 [INF] Request finished in 1198.9147ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:45:22.3174014+07:00 0HL9KJ2V8SF10:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/index   (ca22a1cb)
2017-11-26T13:45:22.3229690+07:00 0HL9KJ2V8SF10:00000005 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:45:22.3412885+07:00 0HL9KJ2V8SF10:00000005 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:45:22.3527889+07:00 0HL9KJ2V8SF10:00000005 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.UserController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:45:22.3725166+07:00 0HL9KJ2V8SF10:00000005 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:45:22.6707426+07:00 0HL9KJ2V8SF10:00000005 [INF] Executed DbCommand ("239"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:45:22.6802797+07:00 0HL9KJ2V8SF10:00000005 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:45:22.8796409+07:00 0HL9KJ2V8SF10:00000005 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/User/Index.cshtml". (9707eebe)
2017-11-26T13:45:22.9217499+07:00 0HL9KJ2V8SF10:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:45:22.9263249+07:00 0HL9KJ2V8SF10:00000005 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:45:22.9567290+07:00 0HL9KJ2V8SF10:00000005 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:45:22.9601635+07:00 0HL9KJ2V8SF10:00000005 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:45:22.9783397+07:00 0HL9KJ2V8SF10:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:45:22.9831709+07:00 0HL9KJ2V8SF10:00000005 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:45:23.1630983+07:00 0HL9KJ2V8SF10:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:45:23.1787324+07:00 0HL9KJ2V8SF10:00000005 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.UserController.Index (ShopApp.Web)" in 838.5083ms (afa2e885)
2017-11-26T13:45:23.2181181+07:00 0HL9KJ2V8SF10:00000005 [INF] Request finished in 869.7446ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:45:23.2261884+07:00 0HL9KJ2V8SF10:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:28064/app/controllers/user/index.js?v=JV-UnCM1ZqPfKF-IHyu6-L-tfP3C7mlc8c7Dy-1oCR4   (ca22a1cb)
2017-11-26T13:45:23.2495190+07:00 0HL9KJ2V8SF10:00000006 [INF] The file "/app/controllers/user/index.js" was not modified (f1f8d725)
2017-11-26T13:45:23.2621480+07:00 0HL9KJ2V8SF10:00000006 [INF] Request finished in 30.9027ms 304 application/javascript (791a596a)
2017-11-26T13:45:23.6679329+07:00 0HL9KJ2V8SF10:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:45:23.6736853+07:00 0HL9KJ2V8SF10:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:45:23.6945205+07:00 0HL9KJ2V8SF10:00000007 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:45:23.8316321+07:00 0HL9KJ2V8SF10:00000007 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:45:23.9932755+07:00 0HL9KJ2V8SF10:00000007 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:45:24.0277910+07:00 0HL9KJ2V8SF10:00000007 [INF] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2017-11-26T13:45:24.0686589+07:00 0HL9KJ2V8SF10:00000007 [WRN] Query: '"(from AppUser x in DbSet<AppUser> select new AppUserViewModel{ { 
    UserName = [x].UserName, , 
..."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2017-11-26T13:45:24.0965664+07:00 0HL9KJ2V8SF10:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:45:24.1129802+07:00 0HL9KJ2V8SF10:00000007 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:45:24.1571252+07:00 0HL9KJ2V8SF10:00000007 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" in 472.6134ms (afa2e885)
2017-11-26T13:45:24.1618837+07:00 0HL9KJ2V8SF10:00000007 [INF] Request finished in 501.2277ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:45:24.1952339+07:00 0HL9KJ2V8SF10:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:45:24.2119436+07:00 0HL9KJ2V8SF16:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/null   (ca22a1cb)
2017-11-26T13:45:24.2353119+07:00 0HL9KJ2V8SF16:00000001 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:45:24.2601039+07:00 0HL9KJ2V8SF10:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:45:24.2621540+07:00 0HL9KJ2V8SF16:00000001 [INF] Request finished in 51.2423ms 404  (791a596a)
2017-11-26T13:45:24.2738855+07:00 0HL9KJ2V8SF10:00000008 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:45:24.2813498+07:00 0HL9KJ2V8SF10:00000008 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:45:24.2885759+07:00 0HL9KJ2V8SF10:00000008 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:45:24.2940669+07:00 0HL9KJ2V8SF10:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2017-11-26T13:45:24.3025182+07:00 0HL9KJ2V8SF10:00000008 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:45:24.3073212+07:00 0HL9KJ2V8SF10:00000008 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:45:24.3130517+07:00 0HL9KJ2V8SF10:00000008 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" in 45.3942ms (afa2e885)
2017-11-26T13:45:24.3195128+07:00 0HL9KJ2V8SF10:00000008 [INF] Request finished in 140.0464ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:45:24.3295238+07:00 0HL9KJ2V8SF10:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/null   (ca22a1cb)
2017-11-26T13:45:24.3371723+07:00 0HL9KJ2V8SF10:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:45:24.3486723+07:00 0HL9KJ2V8SF10:00000009 [INF] Request finished in 16.0267ms 404  (791a596a)
2017-11-26T13:45:36.8757261+07:00 0HL9KJ2V8SF10:0000000A [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Account/Logout application/x-www-form-urlencoded 0 (ca22a1cb)
2017-11-26T13:45:36.8804552+07:00 0HL9KJ2V8SF10:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:45:36.8923376+07:00 0HL9KJ2V8SF10:0000000A [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:45:36.8981228+07:00 0HL9KJ2V8SF10:0000000A [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.AccountController.Logout (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:45:36.9073101+07:00 0HL9KJ2V8SF10:0000000A [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-11-26T13:45:36.9133567+07:00 0HL9KJ2V8SF10:0000000A [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-11-26T13:45:36.9183445+07:00 0HL9KJ2V8SF10:0000000A [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-11-26T13:45:36.9246892+07:00 0HL9KJ2V8SF10:0000000A [INF] Executing RedirectResult, redirecting to "/Admin/Login/Index". (d98d540e)
2017-11-26T13:45:36.9331012+07:00 0HL9KJ2V8SF10:0000000A [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.AccountController.Logout (ShopApp.Web)" in 37.867ms (afa2e885)
2017-11-26T13:45:36.9405329+07:00 0HL9KJ2V8SF10:0000000A [INF] Request finished in 63.6092ms 302  (791a596a)
2017-11-26T13:45:36.9511413+07:00 0HL9KJ2V8SF10:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/Login/Index   (ca22a1cb)
2017-11-26T13:45:36.9559512+07:00 0HL9KJ2V8SF10:0000000B [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:45:36.9615679+07:00 0HL9KJ2V8SF10:0000000B [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Login/Index.cshtml". (9707eebe)
2017-11-26T13:45:36.9709964+07:00 0HL9KJ2V8SF10:0000000B [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" in 12.3344ms (afa2e885)
2017-11-26T13:45:36.9773295+07:00 0HL9KJ2V8SF10:0000000B [INF] Request finished in 26.0402ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:45:47.4830020+07:00 0HL9KJ2V8SF10:0000000C [INF] Request starting HTTP/1.1 POST http://localhost:28064/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 32 (ca22a1cb)
2017-11-26T13:45:47.4893441+07:00 0HL9KJ2V8SF10:0000000C [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" with arguments (["ShopApp.Web.Models.AccountViewModels.LoginViewModel"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:45:47.4945478+07:00 0HL9KJ2V8SF10:0000000C [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:45:47.5032629+07:00 0HL9KJ2V8SF10:0000000C [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2017-11-26T13:45:47.5215473+07:00 0HL9KJ2V8SF10:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2017-11-26T13:45:47.5289487+07:00 0HL9KJ2V8SF10:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:45:47.5358724+07:00 0HL9KJ2V8SF10:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2017-11-26T13:45:47.5428761+07:00 0HL9KJ2V8SF10:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2017-11-26T13:45:47.5490553+07:00 0HL9KJ2V8SF10:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2017-11-26T13:45:47.5563977+07:00 0HL9KJ2V8SF10:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2017-11-26T13:45:47.5637178+07:00 0HL9KJ2V8SF10:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:45:47.5686158+07:00 0HL9KJ2V8SF10:0000000C [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-11-26T13:45:47.5724860+07:00 0HL9KJ2V8SF10:0000000C [INF] User logged in. (fdce0db4)
2017-11-26T13:45:47.5776564+07:00 0HL9KJ2V8SF10:0000000C [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:45:47.5833163+07:00 0HL9KJ2V8SF10:0000000C [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" in 94.1053ms (afa2e885)
2017-11-26T13:45:47.5898206+07:00 0HL9KJ2V8SF10:0000000C [INF] Request finished in 106.1215ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:45:47.5996032+07:00 0HL9KJ2V8SF10:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/Home/Index   (ca22a1cb)
2017-11-26T13:45:47.6056548+07:00 0HL9KJ2V8SF10:0000000D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:45:47.6099969+07:00 0HL9KJ2V8SF10:0000000D [INF] Authorization was successful for user: "test". (d7eb274a)
2017-11-26T13:45:47.6166482+07:00 0HL9KJ2V8SF10:0000000D [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:45:47.6209987+07:00 0HL9KJ2V8SF10:0000000D [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Home/Index.cshtml". (9707eebe)
2017-11-26T13:45:47.6358391+07:00 0HL9KJ2V8SF10:0000000D [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" in 16.6819ms (afa2e885)
2017-11-26T13:45:47.7205754+07:00 0HL9KJ2V8SF10:0000000D [INF] Request finished in 43.6292ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:46:00.4415310+07:00 0HL9KJ2V8SF10:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/index   (ca22a1cb)
2017-11-26T13:46:00.4482816+07:00 0HL9KJ2V8SF10:0000000E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:46:00.4530876+07:00 0HL9KJ2V8SF10:0000000E [INF] Authorization was successful for user: "test". (d7eb274a)
2017-11-26T13:46:00.4586487+07:00 0HL9KJ2V8SF10:0000000E [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.UserController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:46:21.2340602+07:00 0HL9KJ2V8SF10:0000000E [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:46:21.2797640+07:00 0HL9KJ2V8SF10:0000000E [INF] Executed DbCommand ("27"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:46:21.3464340+07:00 0HL9KJ2V8SF10:0000000E [INF] Authorization was successful for user: "test". (d7eb274a)
2017-11-26T13:46:34.8982370+07:00 0HL9KJ2V8SF10:0000000E [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/User/Index.cshtml". (9707eebe)
2017-11-26T13:46:34.9186947+07:00 0HL9KJ2V8SF10:0000000E [INF] Executed DbCommand ("8"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:46:34.9248247+07:00 0HL9KJ2V8SF10:0000000E [INF] Authorization was successful for user: "test". (d7eb274a)
2017-11-26T13:46:34.9480460+07:00 0HL9KJ2V8SF10:0000000E [INF] Executed DbCommand ("7"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:46:34.9528091+07:00 0HL9KJ2V8SF10:0000000E [INF] Authorization failed for user: "test". (a4ab1676)
2017-11-26T13:46:34.9644815+07:00 0HL9KJ2V8SF10:0000000E [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:46:34.9694701+07:00 0HL9KJ2V8SF10:0000000E [INF] Authorization failed for user: "test". (a4ab1676)
2017-11-26T13:46:34.9801200+07:00 0HL9KJ2V8SF10:0000000E [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.UserController.Index (ShopApp.Web)" in 34522.2277ms (afa2e885)
2017-11-26T13:46:34.9883711+07:00 0HL9KJ2V8SF10:0000000E [INF] Request finished in 34542.9843ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:46:35.3671239+07:00 0HL9KJ2V8SF10:0000000F [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:46:35.3721617+07:00 0HL9KJ2V8SF10:0000000F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:46:35.3767384+07:00 0HL9KJ2V8SF10:0000000F [INF] Authorization was successful for user: "test". (d7eb274a)
2017-11-26T13:46:35.3826452+07:00 0HL9KJ2V8SF10:0000000F [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:46:35.3873002+07:00 0HL9KJ2V8SF10:0000000F [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:46:35.3968826+07:00 0HL9KJ2V8SF10:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2017-11-26T13:46:35.4066926+07:00 0HL9KJ2V8SF10:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:46:35.4117638+07:00 0HL9KJ2V8SF10:0000000F [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:46:35.4219214+07:00 0HL9KJ2V8SF10:0000000F [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" in 39.8291ms (afa2e885)
2017-11-26T13:46:35.4282207+07:00 0HL9KJ2V8SF10:0000000F [INF] Request finished in 59.7373ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:46:35.5702293+07:00 0HL9KJ2V8SF10:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:46:35.5721268+07:00 0HL9KJ2V8SF16:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/null   (ca22a1cb)
2017-11-26T13:46:35.5812307+07:00 0HL9KJ2V8SF10:00000010 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:46:35.5859186+07:00 0HL9KJ2V8SF10:00000010 [INF] Authorization was successful for user: "test". (d7eb274a)
2017-11-26T13:46:35.6004867+07:00 0HL9KJ2V8SF10:00000010 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:46:35.6033276+07:00 0HL9KJ2V8SF16:00000002 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:46:35.6161704+07:00 0HL9KJ2V8SF10:00000010 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:46:35.6393536+07:00 0HL9KJ2V8SF16:00000002 [INF] Request finished in 54.5815ms 404  (791a596a)
2017-11-26T13:46:35.6479409+07:00 0HL9KJ2V8SF10:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2017-11-26T13:46:35.6529534+07:00 0HL9KJ2V8SF10:00000010 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:46:35.6568528+07:00 0HL9KJ2V8SF10:00000010 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:46:35.6656376+07:00 0HL9KJ2V8SF10:00000010 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" in 75.8726ms (afa2e885)
2017-11-26T13:46:35.6733401+07:00 0HL9KJ2V8SF10:00000010 [INF] Request finished in 131.4822ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:46:35.6877854+07:00 0HL9KJ2V8SF10:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/null   (ca22a1cb)
2017-11-26T13:46:35.6938730+07:00 0HL9KJ2V8SF10:00000011 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:46:35.7002234+07:00 0HL9KJ2V8SF10:00000011 [INF] Request finished in 15.073ms 404  (791a596a)
2017-11-26T13:46:45.1159858+07:00 0HL9KJ2V8SF10:00000012 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Account/Logout application/x-www-form-urlencoded 0 (ca22a1cb)
2017-11-26T13:46:45.1210697+07:00 0HL9KJ2V8SF10:00000012 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:46:45.1287354+07:00 0HL9KJ2V8SF10:00000012 [INF] Authorization was successful for user: "test". (d7eb274a)
2017-11-26T13:46:45.1333266+07:00 0HL9KJ2V8SF10:00000012 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.AccountController.Logout (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:46:45.1383498+07:00 0HL9KJ2V8SF10:00000012 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-11-26T13:46:45.1455276+07:00 0HL9KJ2V8SF10:00000012 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-11-26T13:46:45.1504790+07:00 0HL9KJ2V8SF10:00000012 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-11-26T13:46:45.1558781+07:00 0HL9KJ2V8SF10:00000012 [INF] Executing RedirectResult, redirecting to "/Admin/Login/Index". (d98d540e)
2017-11-26T13:46:45.1629682+07:00 0HL9KJ2V8SF10:00000012 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.AccountController.Logout (ShopApp.Web)" in 34.7272ms (afa2e885)
2017-11-26T13:46:45.1676570+07:00 0HL9KJ2V8SF10:00000012 [INF] Request finished in 53.9968ms 302  (791a596a)
2017-11-26T13:46:45.1753928+07:00 0HL9KJ2V8SF10:00000013 [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/Login/Index   (ca22a1cb)
2017-11-26T13:46:45.1805149+07:00 0HL9KJ2V8SF10:00000013 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:46:45.1852058+07:00 0HL9KJ2V8SF10:00000013 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Login/Index.cshtml". (9707eebe)
2017-11-26T13:46:45.1976241+07:00 0HL9KJ2V8SF10:00000013 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" in 10.879ms (afa2e885)
2017-11-26T13:46:45.2307459+07:00 0HL9KJ2V8SF10:00000013 [INF] Request finished in 28.1357ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:46:46.3504364+07:00 0HL9KJ2V8SF10:00000014 [INF] Request starting HTTP/1.1 POST http://localhost:28064/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2017-11-26T13:46:46.3555259+07:00 0HL9KJ2V8SF10:00000014 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" with arguments (["ShopApp.Web.Models.AccountViewModels.LoginViewModel"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:46:46.3624398+07:00 0HL9KJ2V8SF10:00000014 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:46:46.3703356+07:00 0HL9KJ2V8SF10:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2017-11-26T13:46:46.3885100+07:00 0HL9KJ2V8SF10:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2017-11-26T13:46:46.3955082+07:00 0HL9KJ2V8SF10:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:46:46.4027740+07:00 0HL9KJ2V8SF10:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2017-11-26T13:46:46.4098393+07:00 0HL9KJ2V8SF10:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2017-11-26T13:46:46.4167519+07:00 0HL9KJ2V8SF10:00000014 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:46:46.4254017+07:00 0HL9KJ2V8SF10:00000014 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-11-26T13:46:46.4296012+07:00 0HL9KJ2V8SF10:00000014 [INF] User logged in. (fdce0db4)
2017-11-26T13:46:46.4347279+07:00 0HL9KJ2V8SF10:00000014 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:46:46.4396861+07:00 0HL9KJ2V8SF10:00000014 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" in 84.099ms (afa2e885)
2017-11-26T13:46:46.4458880+07:00 0HL9KJ2V8SF10:00000014 [INF] Request finished in 95.5456ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:46:46.4559991+07:00 0HL9KJ2V8SF10:00000015 [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/Home/Index   (ca22a1cb)
2017-11-26T13:46:46.4632738+07:00 0HL9KJ2V8SF10:00000015 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:46:46.4682270+07:00 0HL9KJ2V8SF10:00000015 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:46:46.4734220+07:00 0HL9KJ2V8SF10:00000015 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:46:46.4796611+07:00 0HL9KJ2V8SF10:00000015 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Home/Index.cshtml". (9707eebe)
2017-11-26T13:46:46.4876061+07:00 0HL9KJ2V8SF10:00000015 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:46:46.5115248+07:00 0HL9KJ2V8SF10:00000015 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:46:46.5657663+07:00 0HL9KJ2V8SF10:00000015 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" in 49.3504ms (afa2e885)
2017-11-26T13:46:46.5821061+07:00 0HL9KJ2V8SF10:00000015 [INF] Request finished in 116.6721ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:46:52.6834793+07:00 0HL9KJ2V8SF10:00000016 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/index   (ca22a1cb)
2017-11-26T13:46:52.6882178+07:00 0HL9KJ2V8SF10:00000016 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:46:52.6977951+07:00 0HL9KJ2V8SF10:00000016 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:46:52.7025083+07:00 0HL9KJ2V8SF10:00000016 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.UserController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:46:52.7098584+07:00 0HL9KJ2V8SF10:00000016 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:46:52.7268731+07:00 0HL9KJ2V8SF10:00000016 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:46:52.7316657+07:00 0HL9KJ2V8SF10:00000016 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:46:52.7370628+07:00 0HL9KJ2V8SF10:00000016 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/User/Index.cshtml". (9707eebe)
2017-11-26T13:46:52.7551174+07:00 0HL9KJ2V8SF10:00000016 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:46:52.7604717+07:00 0HL9KJ2V8SF10:00000016 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:46:52.7728638+07:00 0HL9KJ2V8SF10:00000016 [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:46:52.7778776+07:00 0HL9KJ2V8SF10:00000016 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:46:52.8001153+07:00 0HL9KJ2V8SF10:00000016 [INF] Executed DbCommand ("6"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Admin') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:46:52.8102990+07:00 0HL9KJ2V8SF10:00000016 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:46:52.8229233+07:00 0HL9KJ2V8SF10:00000016 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:46:52.9270968+07:00 0HL9KJ2V8SF10:00000016 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.UserController.Index (ShopApp.Web)" in 138.6497ms (afa2e885)
2017-11-26T13:46:52.9697502+07:00 0HL9KJ2V8SF10:00000016 [INF] Request finished in 249.3527ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:46:53.2546919+07:00 0HL9KJ2V8SF10:00000017 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:46:53.2653191+07:00 0HL9KJ2V8SF10:00000017 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:46:53.2780825+07:00 0HL9KJ2V8SF10:00000017 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:46:53.2983806+07:00 0HL9KJ2V8SF10:00000017 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:46:53.3152349+07:00 0HL9KJ2V8SF10:00000017 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:46:53.3268984+07:00 0HL9KJ2V8SF10:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2017-11-26T13:46:53.3547151+07:00 0HL9KJ2V8SF10:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:46:53.3711345+07:00 0HL9KJ2V8SF10:00000017 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:46:53.3980240+07:00 0HL9KJ2V8SF10:00000017 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" in 118.34ms (afa2e885)
2017-11-26T13:46:53.4096391+07:00 0HL9KJ2V8SF10:00000017 [INF] Request finished in 154.4378ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:46:53.4951969+07:00 0HL9KJ2V8SF10:00000018 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:46:53.5052010+07:00 0HL9KJ2V8SF10:00000018 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:46:53.5068590+07:00 0HL9KJ2V8SF16:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/null   (ca22a1cb)
2017-11-26T13:46:53.5221841+07:00 0HL9KJ2V8SF10:00000018 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:46:53.5341674+07:00 0HL9KJ2V8SF10:00000018 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:46:53.5359656+07:00 0HL9KJ2V8SF16:00000003 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:46:53.5692658+07:00 0HL9KJ2V8SF10:00000018 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:46:53.5712467+07:00 0HL9KJ2V8SF16:00000003 [INF] Request finished in 55.4316ms 404  (791a596a)
2017-11-26T13:46:53.5874338+07:00 0HL9KJ2V8SF10:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2017-11-26T13:46:53.5997349+07:00 0HL9KJ2V8SF10:00000018 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:46:53.6051982+07:00 0HL9KJ2V8SF10:00000018 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:46:53.6173670+07:00 0HL9KJ2V8SF10:00000018 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" in 99.0827ms (afa2e885)
2017-11-26T13:46:53.6235552+07:00 0HL9KJ2V8SF10:00000018 [INF] Request finished in 141.5689ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:46:53.6461764+07:00 0HL9KJ2V8SF10:00000019 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/null   (ca22a1cb)
2017-11-26T13:46:53.6543275+07:00 0HL9KJ2V8SF10:00000019 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:46:53.6651369+07:00 0HL9KJ2V8SF10:00000019 [INF] Request finished in 22.9705ms 404  (791a596a)
2017-11-26T13:46:55.4784461+07:00 0HL9KJ2V8SF10:0000001A [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/User/GetById?id=1eb12284-93eb-4487-181a-08d533fdec55   (ca22a1cb)
2017-11-26T13:46:55.4845026+07:00 0HL9KJ2V8SF10:0000001A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:46:55.4941787+07:00 0HL9KJ2V8SF10:0000001A [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:46:55.4985840+07:00 0HL9KJ2V8SF10:0000001A [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.UserController.GetById (ShopApp.Web)" with arguments (["1eb12284-93eb-4487-181a-08d533fdec55"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:46:55.5086753+07:00 0HL9KJ2V8SF10:0000001A [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:46:55.5267989+07:00 0HL9KJ2V8SF10:0000001A [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Avatar], [e].[Balance], [e].[BirthDay], [e].[ConcurrencyStamp], [e].[DateCreated], [e].[DateModified], [e].[Email], [e].[EmailConfirmed], [e].[FullName], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[Status], [e].[TwoFactorEnabled], [e].[UserName]
FROM [AppUsers] AS [e]
WHERE [e].[Id] = @__get_Item_0" (0723d8ff)
2017-11-26T13:46:55.5419682+07:00 0HL9KJ2V8SF10:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:46:55.5698576+07:00 0HL9KJ2V8SF10:0000001A [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:46:55.5752273+07:00 0HL9KJ2V8SF10:0000001A [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.UserController.GetById (ShopApp.Web)" in 80.6085ms (afa2e885)
2017-11-26T13:46:55.5811315+07:00 0HL9KJ2V8SF10:0000001A [INF] Request finished in 101.4857ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:46:55.5878362+07:00 0HL9KJ2V8SF10:0000001B [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/Role/GetAll   (ca22a1cb)
2017-11-26T13:46:55.5929459+07:00 0HL9KJ2V8SF10:0000001B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:46:55.6032031+07:00 0HL9KJ2V8SF10:0000001B [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:46:55.6109044+07:00 0HL9KJ2V8SF10:0000001B [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:46:55.6184221+07:00 0HL9KJ2V8SF10:0000001B [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:46:55.6367389+07:00 0HL9KJ2V8SF10:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [dto].[Id], [dto].[Name], [dto].[Description]
FROM [AppRoles] AS [dto]" (0723d8ff)
2017-11-26T13:46:55.6428206+07:00 0HL9KJ2V8SF10:0000001B [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:46:55.6666867+07:00 0HL9KJ2V8SF10:0000001B [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAll (ShopApp.Web)" in 55.0728ms (afa2e885)
2017-11-26T13:46:55.6789749+07:00 0HL9KJ2V8SF10:0000001B [INF] Request finished in 83.3981ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:05.8338336+07:00 0HL9KJ2V8SF10:0000001C [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/index   (ca22a1cb)
2017-11-26T13:47:05.8388847+07:00 0HL9KJ2V8SF10:0000001C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:05.8494169+07:00 0HL9KJ2V8SF10:0000001C [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:05.8554130+07:00 0HL9KJ2V8SF10:0000001C [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:06.0310608+07:00 0HL9KJ2V8SF10:0000001C [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Role/Index.cshtml". (9707eebe)
2017-11-26T13:47:06.3375546+07:00 0HL9KJ2V8SF10:0000001C [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:06.3453473+07:00 0HL9KJ2V8SF10:0000001C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:47:06.3626370+07:00 0HL9KJ2V8SF10:0000001C [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.Index (ShopApp.Web)" in 510.4869ms (afa2e885)
2017-11-26T13:47:06.3692105+07:00 0HL9KJ2V8SF10:0000001C [INF] Request finished in 540.2012ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:47:06.4169927+07:00 0HL9KJ2V8SF10:0000001D [INF] Request starting HTTP/1.1 GET http://localhost:28064/lib/jquery-treegrid/css/jquery.treegrid.css   (ca22a1cb)
2017-11-26T13:47:06.4234366+07:00 0HL9KJ2V8SF16:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:28064/lib/jquery-treegrid/js/jquery.treegrid.js   (ca22a1cb)
2017-11-26T13:47:06.4474870+07:00 0HL9KJ2V8SF16:00000004 [INF] The file "/lib/jquery-treegrid/js/jquery.treegrid.js" was not modified (f1f8d725)
2017-11-26T13:47:06.4560076+07:00 0HL9KJ2V8SF10:0000001D [INF] The file "/lib/jquery-treegrid/css/jquery.treegrid.css" was not modified (f1f8d725)
2017-11-26T13:47:06.4681132+07:00 0HL9KJ2V8SF16:00000004 [INF] Request finished in 60.3377ms 304 application/javascript (791a596a)
2017-11-26T13:47:06.4904487+07:00 0HL9KJ2V8SF10:0000001D [INF] Request finished in 61.9692ms 304 text/css (791a596a)
2017-11-26T13:47:06.4992887+07:00 0HL9KJ2V8SF16:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:28064/app/controllers/role/index.js?v=mRPKJSXMoc0q6eC3MStM_rsr4A7PW6SgzbXWcdfX2AA   (ca22a1cb)
2017-11-26T13:47:06.5041071+07:00 0HL9KJ2V8SF16:00000005 [INF] The file "/app/controllers/role/index.js" was not modified (f1f8d725)
2017-11-26T13:47:06.5125512+07:00 0HL9KJ2V8SF16:00000005 [INF] Request finished in 12.7778ms 304 application/javascript (791a596a)
2017-11-26T13:47:07.0492439+07:00 0HL9KJ2V8SF16:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:47:07.0636763+07:00 0HL9KJ2V8SF16:00000006 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:07.0716093+07:00 0HL9KJ2V8SF16:00000006 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:07.1016713+07:00 0HL9KJ2V8SF16:00000006 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:07.1312072+07:00 0HL9KJ2V8SF16:00000006 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:07.1465874+07:00 0HL9KJ2V8SF16:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2017-11-26T13:47:07.1552687+07:00 0HL9KJ2V8SF16:00000006 [WRN] Query: '"(from AppRole dto in DbSet<AppRole> select new AppRoleViewModel{ { 
    Id = (Nullable<Guid>)[dto]...."' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2017-11-26T13:47:07.1720940+07:00 0HL9KJ2V8SF16:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [dto].[Id], [dto].[Name], [dto].[Description]
FROM [AppRoles] AS [dto]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:47:07.1821579+07:00 0HL9KJ2V8SF16:00000006 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:07.1959485+07:00 0HL9KJ2V8SF16:00000006 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" in 120.4103ms (afa2e885)
2017-11-26T13:47:07.2049215+07:00 0HL9KJ2V8SF16:00000006 [INF] Request finished in 274.7459ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:07.2311919+07:00 0HL9KJ2V8SF16:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:47:07.2426141+07:00 0HL9KJ2V8SF16:00000007 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:07.2501977+07:00 0HL9KJ2V8SF16:00000007 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:07.2692343+07:00 0HL9KJ2V8SF16:00000007 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:07.2799291+07:00 0HL9KJ2V8SF16:00000007 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:07.2889124+07:00 0HL9KJ2V8SF16:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2017-11-26T13:47:07.3030014+07:00 0HL9KJ2V8SF16:00000007 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [dto].[Id], [dto].[Name], [dto].[Description]
FROM [AppRoles] AS [dto]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:47:07.3208984+07:00 0HL9KJ2V8SF16:00000007 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:07.4003822+07:00 0HL9KJ2V8SF16:00000007 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" in 107.1478ms (afa2e885)
2017-11-26T13:47:07.4430108+07:00 0HL9KJ2V8SF16:00000007 [INF] Request finished in 193.9822ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:16.0905621+07:00 0HL9KJ2V8SF16:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/function/index   (ca22a1cb)
2017-11-26T13:47:16.0959185+07:00 0HL9KJ2V8SF16:00000008 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:16.1030111+07:00 0HL9KJ2V8SF16:00000008 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:16.1111677+07:00 0HL9KJ2V8SF16:00000008 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:16.1187077+07:00 0HL9KJ2V8SF16:00000008 [ERR] The view '"Index"' was not found. Searched locations: ["/Areas/Admin/Views/Function/Index.cshtml", "/Areas/Admin/Views/Shared/Index.cshtml", "/Views/Shared/Index.cshtml"] (9bb2756c)
2017-11-26T13:47:16.1413041+07:00 0HL9KJ2V8SF16:00000008 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.Index (ShopApp.Web)" in 37.0284ms (afa2e885)
2017-11-26T13:47:16.4485561+07:00 0HL9KJ2V8SF16:00000008 [ERR] An unhandled exception has occurred while executing the request (cf926119)
System.InvalidOperationException: The view 'Index' was not found. The following locations were searched:
/Areas/Admin/Views/Function/Index.cshtml
/Areas/Admin/Views/Shared/Index.cshtml
/Views/Shared/Index.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewResult.<ExecuteResultAsync>d__26.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeResultAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResultFilterAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()
2017-11-26T13:47:16.6131713+07:00 0HL9KJ2V8SF16:00000008 [INF] Request finished in 499.6912ms 500 text/html; charset=utf-8 (791a596a)
2017-11-26T13:47:20.5917532+07:00 0HL9KJ2V8SF16:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/index   (ca22a1cb)
2017-11-26T13:47:20.5963841+07:00 0HL9KJ2V8SF16:00000009 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:20.6007992+07:00 0HL9KJ2V8SF16:00000009 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:20.6074271+07:00 0HL9KJ2V8SF16:00000009 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:20.6136922+07:00 0HL9KJ2V8SF16:00000009 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Role/Index.cshtml". (9707eebe)
2017-11-26T13:47:20.6226379+07:00 0HL9KJ2V8SF16:00000009 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:20.6316118+07:00 0HL9KJ2V8SF16:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:47:20.6438769+07:00 0HL9KJ2V8SF16:00000009 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.Index (ShopApp.Web)" in 36.7739ms (afa2e885)
2017-11-26T13:47:20.6870328+07:00 0HL9KJ2V8SF16:00000009 [INF] Request finished in 61.9623ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:47:21.0826424+07:00 0HL9KJ2V8SF16:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:47:21.0895559+07:00 0HL9KJ2V8SF16:0000000A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:21.0971441+07:00 0HL9KJ2V8SF16:0000000A [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:21.1034388+07:00 0HL9KJ2V8SF16:0000000A [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:21.1134856+07:00 0HL9KJ2V8SF16:0000000A [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:21.1207908+07:00 0HL9KJ2V8SF16:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2017-11-26T13:47:21.1273554+07:00 0HL9KJ2V8SF16:0000000A [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [dto].[Id], [dto].[Name], [dto].[Description]
FROM [AppRoles] AS [dto]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:47:21.1334921+07:00 0HL9KJ2V8SF16:0000000A [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:21.1390808+07:00 0HL9KJ2V8SF16:0000000A [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" in 44.1394ms (afa2e885)
2017-11-26T13:47:21.1462256+07:00 0HL9KJ2V8SF16:0000000A [INF] Request finished in 60.711ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:21.2950360+07:00 0HL9KJ2V8SF16:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:47:21.3025700+07:00 0HL9KJ2V8SF16:0000000B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:21.3139302+07:00 0HL9KJ2V8SF16:0000000B [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:21.3243153+07:00 0HL9KJ2V8SF16:0000000B [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:21.3375949+07:00 0HL9KJ2V8SF16:0000000B [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:21.3499019+07:00 0HL9KJ2V8SF16:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2017-11-26T13:47:21.3635299+07:00 0HL9KJ2V8SF16:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [dto].[Id], [dto].[Name], [dto].[Description]
FROM [AppRoles] AS [dto]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:47:21.3706333+07:00 0HL9KJ2V8SF16:0000000B [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:21.3844370+07:00 0HL9KJ2V8SF16:0000000B [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" in 74.3656ms (afa2e885)
2017-11-26T13:47:21.4005545+07:00 0HL9KJ2V8SF16:0000000B [INF] Request finished in 101.6713ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:23.4577550+07:00 0HL9KJ2V8SF16:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:47:23.4678715+07:00 0HL9KJ2V8SF16:0000000C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:23.4698143+07:00 0HL9KJ2V8SF10:0000001E [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:47:23.4834681+07:00 0HL9KJ2V8SF10:0000001E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:23.5020805+07:00 0HL9KJ2V8SF16:0000000C [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:23.5142211+07:00 0HL9KJ2V8SF16:0000000C [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:23.5237895+07:00 0HL9KJ2V8SF10:0000001E [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:23.5445704+07:00 0HL9KJ2V8SF10:0000001E [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:23.5474049+07:00 0HL9KJ2V8SF16:0000000C [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:23.5591962+07:00 0HL9KJ2V8SF16:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:47:23.5692200+07:00 0HL9KJ2V8SF16:0000000C [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:23.5794149+07:00 0HL9KJ2V8SF10:0000001E [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:23.5985772+07:00 0HL9KJ2V8SF16:0000000C [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 98.0705ms (afa2e885)
2017-11-26T13:47:23.6341127+07:00 0HL9KJ2V8SF16:0000000C [INF] Request finished in 165.5226ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:23.6651365+07:00 0HL9KJ2V8SF10:0000001E [INF] Executed DbCommand ("7"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:47:23.6735912+07:00 0HL9KJ2V8SF10:0000001E [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:23.6873787+07:00 0HL9KJ2V8SF16:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:28064/lib/jquery-treegrid/img/collapse.png   (ca22a1cb)
2017-11-26T13:47:23.7014708+07:00 0HL9KJ2V8SF16:0000000D [INF] The file "/lib/jquery-treegrid/img/collapse.png" was not modified (f1f8d725)
2017-11-26T13:47:23.7040525+07:00 0HL9KJ2V8SF10:0000001E [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 179.3602ms (afa2e885)
2017-11-26T13:47:23.7107360+07:00 0HL9KJ2V8SF16:0000000D [INF] Request finished in 19.1285ms 304 image/png (791a596a)
2017-11-26T13:47:23.7188259+07:00 0HL9KJ2V8SF10:0000001E [INF] Request finished in 271.2537ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:29.8390570+07:00 0HL9KJ2V8SF10:0000001F [INF] Request starting HTTP/1.1 POST http://localhost:28064/admin/role/SavePermission application/x-www-form-urlencoded; charset=UTF-8 7166 (ca22a1cb)
2017-11-26T13:47:29.8462869+07:00 0HL9KJ2V8SF10:0000001F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:29.8624185+07:00 0HL9KJ2V8SF10:0000001F [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:29.8800104+07:00 0HL9KJ2V8SF10:0000001F [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.SavePermission (ShopApp.Web)" with arguments (["System.Collections.Generic.List`1[ShopApp.Application.ViewModels.System.PermissionViewModel]", "6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:29.9054533+07:00 0HL9KJ2V8SF10:0000001F [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:29.9268279+07:00 0HL9KJ2V8SF10:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CanCreate], [x].[CanDelete], [x].[CanRead], [x].[CanUpdate], [x].[FunctionId], [x].[RoleId]
FROM [Permissions] AS [x]
WHERE [x].[RoleId] = @__roleId_0" (0723d8ff)
2017-11-26T13:47:30.4809257+07:00 0HL9KJ2V8SF10:0000001F [INF] Executed DbCommand ("419"ms) [Parameters=["@p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?', @p18='?', @p19='?', @p20='?', @p21='?', @p22='?', @p23='?', @p24='?', @p25='?', @p26='?', @p27='?', @p28='?' (Size = 450), @p29='?', @p30='?', @p31='?', @p32='?', @p33='?', @p34='?' (Size = 450), @p35='?', @p36='?', @p37='?', @p38='?', @p39='?', @p40='?' (Size = 450), @p41='?', @p42='?', @p43='?', @p44='?', @p45='?', @p46='?' (Size = 450), @p47='?', @p48='?', @p49='?', @p50='?', @p51='?', @p52='?' (Size = 450), @p53='?', @p54='?', @p55='?', @p56='?', @p57='?', @p58='?' (Size = 450), @p59='?', @p60='?', @p61='?', @p62='?', @p63='?', @p64='?' (Size = 450), @p65='?', @p66='?', @p67='?', @p68='?', @p69='?', @p70='?' (Size = 450), @p71='?', @p72='?', @p73='?', @p74='?', @p75='?', @p76='?' (Size = 450), @p77='?', @p78='?', @p79='?', @p80='?', @p81='?', @p82='?' (Size = 450), @p83='?', @p84='?', @p85='?', @p86='?', @p87='?', @p88='?' (Size = 450), @p89='?', @p90='?', @p91='?', @p92='?', @p93='?', @p94='?' (Size = 450), @p95='?', @p96='?', @p97='?', @p98='?', @p99='?', @p100='?' (Size = 450), @p101='?', @p102='?', @p103='?', @p104='?', @p105='?', @p106='?' (Size = 450), @p107='?', @p108='?', @p109='?', @p110='?', @p111='?', @p112='?' (Size = 450), @p113='?', @p114='?', @p115='?', @p116='?', @p117='?', @p118='?' (Size = 450), @p119='?', @p120='?', @p121='?', @p122='?', @p123='?', @p124='?' (Size = 450), @p125='?', @p126='?', @p127='?', @p128='?', @p129='?', @p130='?' (Size = 450), @p131='?', @p132='?', @p133='?', @p134='?', @p135='?', @p136='?' (Size = 450), @p137='?', @p138='?', @p139='?', @p140='?', @p141='?', @p142='?' (Size = 450), @p143='?', @p144='?', @p145='?', @p146='?', @p147='?', @p148='?' (Size = 450), @p149='?', @p150='?', @p151='?', @p152='?', @p153='?', @p154='?' (Size = 450), @p155='?', @p156='?', @p157='?', @p158='?', @p159='?', @p160='?' (Size = 450), @p161='?', @p162='?', @p163='?', @p164='?', @p165='?', @p166='?' (Size = 450), @p167='?'"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Permissions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p6;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p10;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p11;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p12;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p13;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p15;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p17;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p18;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p19;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p20;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p23;
SELECT @@ROWCOUNT;

DECLARE @inserted24 TABLE ([Id] int, [_Position] [int]);
MERGE [Permissions] USING (
VALUES (@p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, 2),
(@p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, 4),
(@p54, @p55, @p56, @p57, @p58, @p59, 5),
(@p60, @p61, @p62, @p63, @p64, @p65, 6),
(@p66, @p67, @p68, @p69, @p70, @p71, 7),
(@p72, @p73, @p74, @p75, @p76, @p77, 8),
(@p78, @p79, @p80, @p81, @p82, @p83, 9),
(@p84, @p85, @p86, @p87, @p88, @p89, 10),
(@p90, @p91, @p92, @p93, @p94, @p95, 11),
(@p96, @p97, @p98, @p99, @p100, @p101, 12),
(@p102, @p103, @p104, @p105, @p106, @p107, 13),
(@p108, @p109, @p110, @p111, @p112, @p113, 14),
(@p114, @p115, @p116, @p117, @p118, @p119, 15),
(@p120, @p121, @p122, @p123, @p124, @p125, 16),
(@p126, @p127, @p128, @p129, @p130, @p131, 17),
(@p132, @p133, @p134, @p135, @p136, @p137, 18),
(@p138, @p139, @p140, @p141, @p142, @p143, 19),
(@p144, @p145, @p146, @p147, @p148, @p149, 20),
(@p150, @p151, @p152, @p153, @p154, @p155, 21),
(@p156, @p157, @p158, @p159, @p160, @p161, 22),
(@p162, @p163, @p164, @p165, @p166, @p167, 23)) AS i ([CanCreate], [CanDelete], [CanRead], [CanUpdate], [FunctionId], [RoleId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CanCreate], [CanDelete], [CanRead], [CanUpdate], [FunctionId], [RoleId])
VALUES (i.[CanCreate], i.[CanDelete], i.[CanRead], i.[CanUpdate], i.[FunctionId], i.[RoleId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted24;

SELECT [t].[Id] FROM [Permissions] t
INNER JOIN @inserted24 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2017-11-26T13:47:30.5182150+07:00 0HL9KJ2V8SF10:0000001F [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2017-11-26T13:47:30.5231502+07:00 0HL9KJ2V8SF10:0000001F [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.SavePermission (ShopApp.Web)" in 659.8135ms (afa2e885)
2017-11-26T13:47:30.5285031+07:00 0HL9KJ2V8SF10:0000001F [INF] Request finished in 688.8567ms 200  (791a596a)
2017-11-26T13:47:33.8994242+07:00 0HL9KJ2V8SF10:00000020 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:47:33.9099001+07:00 0HL9KJ2V8SF10:00000020 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:33.9135693+07:00 0HL9KJ2V8SF16:0000000E [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:47:33.9296239+07:00 0HL9KJ2V8SF16:0000000E [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:33.9618147+07:00 0HL9KJ2V8SF10:00000020 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:33.9868059+07:00 0HL9KJ2V8SF16:0000000E [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:33.9957802+07:00 0HL9KJ2V8SF10:00000020 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:33.9992575+07:00 0HL9KJ2V8SF16:0000000E [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["33e47580-dc65-4613-fdcd-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:34.0198824+07:00 0HL9KJ2V8SF10:00000020 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:34.0482401+07:00 0HL9KJ2V8SF16:0000000E [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:34.0600657+07:00 0HL9KJ2V8SF10:00000020 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:47:34.0658321+07:00 0HL9KJ2V8SF10:00000020 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:34.0774267+07:00 0HL9KJ2V8SF10:00000020 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 155.8795ms (afa2e885)
2017-11-26T13:47:34.1119004+07:00 0HL9KJ2V8SF16:0000000E [INF] Executed DbCommand ("14"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:47:34.1193993+07:00 0HL9KJ2V8SF16:0000000E [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:34.1268357+07:00 0HL9KJ2V8SF10:00000020 [INF] Request finished in 187.4831ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:34.1350125+07:00 0HL9KJ2V8SF16:0000000E [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 189.322ms (afa2e885)
2017-11-26T13:47:34.1520784+07:00 0HL9KJ2V8SF16:0000000E [INF] Request finished in 243.3108ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:37.2866201+07:00 0HL9KJ2V8SF16:0000000F [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:47:37.2894303+07:00 0HL9KJ2V8SF10:00000021 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:47:37.3207410+07:00 0HL9KJ2V8SF16:0000000F [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:37.3255730+07:00 0HL9KJ2V8SF10:00000021 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:37.3333148+07:00 0HL9KJ2V8SF10:00000021 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:37.3365146+07:00 0HL9KJ2V8SF16:0000000F [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:37.3487549+07:00 0HL9KJ2V8SF16:0000000F [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:37.3529549+07:00 0HL9KJ2V8SF10:00000021 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:37.3616611+07:00 0HL9KJ2V8SF10:00000021 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:37.3652208+07:00 0HL9KJ2V8SF16:0000000F [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:37.3826760+07:00 0HL9KJ2V8SF16:0000000F [INF] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:47:37.3916601+07:00 0HL9KJ2V8SF10:00000021 [INF] Executed DbCommand ("9"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:47:37.4011447+07:00 0HL9KJ2V8SF10:00000021 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:37.4276729+07:00 0HL9KJ2V8SF16:0000000F [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:37.4780775+07:00 0HL9KJ2V8SF10:00000021 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 94.3272ms (afa2e885)
2017-11-26T13:47:37.5312354+07:00 0HL9KJ2V8SF10:00000021 [INF] Request finished in 196.4848ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:37.5357116+07:00 0HL9KJ2V8SF16:0000000F [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 104.6315ms (afa2e885)
2017-11-26T13:47:37.5476291+07:00 0HL9KJ2V8SF16:0000000F [INF] Request finished in 256.22ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:39.5534297+07:00 0HL9KJ2V8SF16:00000010 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Account/Logout application/x-www-form-urlencoded 0 (ca22a1cb)
2017-11-26T13:47:39.5607931+07:00 0HL9KJ2V8SF16:00000010 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:39.5667469+07:00 0HL9KJ2V8SF16:00000010 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:39.5738733+07:00 0HL9KJ2V8SF16:00000010 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.AccountController.Logout (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:39.5818469+07:00 0HL9KJ2V8SF16:00000010 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-11-26T13:47:39.5861970+07:00 0HL9KJ2V8SF16:00000010 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-11-26T13:47:39.5935330+07:00 0HL9KJ2V8SF16:00000010 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-11-26T13:47:39.5980286+07:00 0HL9KJ2V8SF16:00000010 [INF] Executing RedirectResult, redirecting to "/Admin/Login/Index". (d98d540e)
2017-11-26T13:47:39.6048060+07:00 0HL9KJ2V8SF16:00000010 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.AccountController.Logout (ShopApp.Web)" in 37.0865ms (afa2e885)
2017-11-26T13:47:39.6096333+07:00 0HL9KJ2V8SF16:00000010 [INF] Request finished in 56.9862ms 302  (791a596a)
2017-11-26T13:47:39.6174770+07:00 0HL9KJ2V8SF16:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/Login/Index   (ca22a1cb)
2017-11-26T13:47:39.6237391+07:00 0HL9KJ2V8SF16:00000011 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:39.6285502+07:00 0HL9KJ2V8SF16:00000011 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Login/Index.cshtml". (9707eebe)
2017-11-26T13:47:39.6356497+07:00 0HL9KJ2V8SF16:00000011 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" in 11.4376ms (afa2e885)
2017-11-26T13:47:39.6781170+07:00 0HL9KJ2V8SF16:00000011 [INF] Request finished in 23.6668ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:47:42.3734767+07:00 0HL9KJ2V8SF16:00000012 [INF] Request starting HTTP/1.1 POST http://localhost:28064/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 32 (ca22a1cb)
2017-11-26T13:47:42.3815422+07:00 0HL9KJ2V8SF16:00000012 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" with arguments (["ShopApp.Web.Models.AccountViewModels.LoginViewModel"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:42.3886311+07:00 0HL9KJ2V8SF16:00000012 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:42.4026992+07:00 0HL9KJ2V8SF16:00000012 [INF] Executed DbCommand ("4"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2017-11-26T13:47:42.4179523+07:00 0HL9KJ2V8SF16:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2017-11-26T13:47:42.4257746+07:00 0HL9KJ2V8SF16:00000012 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:47:42.4358732+07:00 0HL9KJ2V8SF16:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2017-11-26T13:47:42.4460796+07:00 0HL9KJ2V8SF16:00000012 [INF] Executed DbCommand ("2"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2017-11-26T13:47:42.4549406+07:00 0HL9KJ2V8SF16:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2017-11-26T13:47:42.4628718+07:00 0HL9KJ2V8SF16:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2017-11-26T13:47:42.4721203+07:00 0HL9KJ2V8SF16:00000012 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:47:42.4776281+07:00 0HL9KJ2V8SF16:00000012 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-11-26T13:47:42.4825320+07:00 0HL9KJ2V8SF16:00000012 [INF] User logged in. (fdce0db4)
2017-11-26T13:47:42.4892637+07:00 0HL9KJ2V8SF16:00000012 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:42.4959723+07:00 0HL9KJ2V8SF16:00000012 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" in 115.1189ms (afa2e885)
2017-11-26T13:47:42.5078324+07:00 0HL9KJ2V8SF16:00000012 [INF] Request finished in 129.3867ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:42.5184314+07:00 0HL9KJ2V8SF16:00000013 [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/Home/Index   (ca22a1cb)
2017-11-26T13:47:42.5254569+07:00 0HL9KJ2V8SF16:00000013 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:42.5301145+07:00 0HL9KJ2V8SF16:00000013 [INF] Authorization was successful for user: "test". (d7eb274a)
2017-11-26T13:47:42.5342550+07:00 0HL9KJ2V8SF16:00000013 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:42.5410471+07:00 0HL9KJ2V8SF16:00000013 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Home/Index.cshtml". (9707eebe)
2017-11-26T13:47:42.5497686+07:00 0HL9KJ2V8SF16:00000013 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" in 16.3043ms (afa2e885)
2017-11-26T13:47:42.5929232+07:00 0HL9KJ2V8SF16:00000013 [INF] Request finished in 36.9805ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:47:46.3920621+07:00 0HL9KJ2V8SF16:00000014 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/index   (ca22a1cb)
2017-11-26T13:47:46.3967831+07:00 0HL9KJ2V8SF16:00000014 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:46.4010698+07:00 0HL9KJ2V8SF16:00000014 [INF] Authorization was successful for user: "test". (d7eb274a)
2017-11-26T13:47:46.4138246+07:00 0HL9KJ2V8SF16:00000014 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.UserController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:46.4206350+07:00 0HL9KJ2V8SF16:00000014 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:46.4338201+07:00 0HL9KJ2V8SF16:00000014 [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:47:46.4393201+07:00 0HL9KJ2V8SF16:00000014 [INF] Authorization failed for user: "test". (a4ab1676)
2017-11-26T13:47:46.4431223+07:00 0HL9KJ2V8SF16:00000014 [INF] Executing RedirectResult, redirecting to "/Admin/Login/Index". (d98d540e)
2017-11-26T13:47:46.4475152+07:00 0HL9KJ2V8SF16:00000014 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.UserController.Index (ShopApp.Web)" in 46.2255ms (afa2e885)
2017-11-26T13:47:46.4549692+07:00 0HL9KJ2V8SF16:00000014 [INF] Request finished in 61.5129ms 302  (791a596a)
2017-11-26T13:47:46.4605373+07:00 0HL9KJ2V8SF16:00000015 [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/Login/Index   (ca22a1cb)
2017-11-26T13:47:46.4653809+07:00 0HL9KJ2V8SF16:00000015 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:46.4691669+07:00 0HL9KJ2V8SF16:00000015 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:46.4732720+07:00 0HL9KJ2V8SF16:00000015 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Login/Index.cshtml". (9707eebe)
2017-11-26T13:47:46.4803548+07:00 0HL9KJ2V8SF16:00000015 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" in 9.6756ms (afa2e885)
2017-11-26T13:47:46.4857834+07:00 0HL9KJ2V8SF16:00000015 [INF] Request finished in 23.5453ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:47:48.0634510+07:00 0HL9KJ2V8SF16:00000016 [INF] Request starting HTTP/1.1 POST http://localhost:28064/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2017-11-26T13:47:48.0687069+07:00 0HL9KJ2V8SF16:00000016 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:48.0755087+07:00 0HL9KJ2V8SF16:00000016 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" with arguments (["ShopApp.Web.Models.AccountViewModels.LoginViewModel"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:48.0801132+07:00 0HL9KJ2V8SF16:00000016 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:48.0872397+07:00 0HL9KJ2V8SF16:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2017-11-26T13:47:48.1039652+07:00 0HL9KJ2V8SF16:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2017-11-26T13:47:48.1095679+07:00 0HL9KJ2V8SF16:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:47:48.1155037+07:00 0HL9KJ2V8SF16:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2017-11-26T13:47:48.1210556+07:00 0HL9KJ2V8SF16:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2017-11-26T13:47:48.1275486+07:00 0HL9KJ2V8SF16:00000016 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:47:48.1335940+07:00 0HL9KJ2V8SF16:00000016 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-11-26T13:47:48.1382879+07:00 0HL9KJ2V8SF16:00000016 [INF] User logged in. (fdce0db4)
2017-11-26T13:47:48.1423707+07:00 0HL9KJ2V8SF16:00000016 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:48.1480247+07:00 0HL9KJ2V8SF16:00000016 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" in 73.7262ms (afa2e885)
2017-11-26T13:47:48.1535838+07:00 0HL9KJ2V8SF16:00000016 [INF] Request finished in 91.4264ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:48.1629276+07:00 0HL9KJ2V8SF16:00000017 [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/Home/Index   (ca22a1cb)
2017-11-26T13:47:48.1686881+07:00 0HL9KJ2V8SF16:00000017 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:48.1756028+07:00 0HL9KJ2V8SF16:00000017 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:48.1800163+07:00 0HL9KJ2V8SF16:00000017 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:48.1844848+07:00 0HL9KJ2V8SF16:00000017 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Home/Index.cshtml". (9707eebe)
2017-11-26T13:47:48.1908171+07:00 0HL9KJ2V8SF16:00000017 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:48.1978425+07:00 0HL9KJ2V8SF16:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:47:48.2091279+07:00 0HL9KJ2V8SF16:00000017 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" in 30.1534ms (afa2e885)
2017-11-26T13:47:48.2299402+07:00 0HL9KJ2V8SF16:00000017 [INF] Request finished in 51.9693ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:47:57.0406365+07:00 0HL9KJ2V8SF16:00000018 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/index   (ca22a1cb)
2017-11-26T13:47:57.0455190+07:00 0HL9KJ2V8SF16:00000018 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:57.0508356+07:00 0HL9KJ2V8SF16:00000018 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:57.0578402+07:00 0HL9KJ2V8SF16:00000018 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:57.0626106+07:00 0HL9KJ2V8SF16:00000018 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Role/Index.cshtml". (9707eebe)
2017-11-26T13:47:57.0723089+07:00 0HL9KJ2V8SF16:00000018 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:57.0828361+07:00 0HL9KJ2V8SF16:00000018 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:47:57.0945700+07:00 0HL9KJ2V8SF16:00000018 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.Index (ShopApp.Web)" in 41.4512ms (afa2e885)
2017-11-26T13:47:57.1417416+07:00 0HL9KJ2V8SF16:00000018 [INF] Request finished in 59.8574ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:47:57.4540823+07:00 0HL9KJ2V8SF16:00000019 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:47:57.4599351+07:00 0HL9KJ2V8SF16:00000019 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:57.4678249+07:00 0HL9KJ2V8SF16:00000019 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:57.4806161+07:00 0HL9KJ2V8SF16:00000019 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:57.4956853+07:00 0HL9KJ2V8SF16:00000019 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:57.5262981+07:00 0HL9KJ2V8SF16:00000019 [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2017-11-26T13:47:57.5415564+07:00 0HL9KJ2V8SF16:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [dto].[Id], [dto].[Name], [dto].[Description]
FROM [AppRoles] AS [dto]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:47:57.5504900+07:00 0HL9KJ2V8SF16:00000019 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:57.5780806+07:00 0HL9KJ2V8SF16:00000019 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" in 90.5664ms (afa2e885)
2017-11-26T13:47:57.5938867+07:00 0HL9KJ2V8SF16:00000019 [INF] Request finished in 129.7904ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:57.6744585+07:00 0HL9KJ2V8SF16:0000001A [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/role/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:47:57.6828849+07:00 0HL9KJ2V8SF16:0000001A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:57.6916968+07:00 0HL9KJ2V8SF16:0000001A [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:57.6983370+07:00 0HL9KJ2V8SF16:0000001A [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:57.7123024+07:00 0HL9KJ2V8SF16:0000001A [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:57.7347294+07:00 0HL9KJ2V8SF16:0000001A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppRoles] AS [a]" (0723d8ff)
2017-11-26T13:47:57.7509422+07:00 0HL9KJ2V8SF16:0000001A [INF] Executed DbCommand ("8"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [dto].[Id], [dto].[Name], [dto].[Description]
FROM [AppRoles] AS [dto]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:47:57.7662317+07:00 0HL9KJ2V8SF16:0000001A [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:57.7788860+07:00 0HL9KJ2V8SF16:0000001A [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.GetAllPaging (ShopApp.Web)" in 83.4511ms (afa2e885)
2017-11-26T13:47:57.7850109+07:00 0HL9KJ2V8SF16:0000001A [INF] Request finished in 127.9374ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:59.0836067+07:00 0HL9KJ2V8SF16:0000001B [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:47:59.0857920+07:00 0HL9KJ2V8SF10:00000022 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:47:59.0937819+07:00 0HL9KJ2V8SF16:0000001B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:59.1213109+07:00 0HL9KJ2V8SF10:00000022 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:47:59.1224741+07:00 0HL9KJ2V8SF16:0000001B [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:59.1545405+07:00 0HL9KJ2V8SF10:00000022 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:47:59.1617430+07:00 0HL9KJ2V8SF16:0000001B [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:59.1673577+07:00 0HL9KJ2V8SF10:00000022 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:47:59.2008139+07:00 0HL9KJ2V8SF16:0000001B [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:59.2102360+07:00 0HL9KJ2V8SF10:00000022 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:47:59.2175010+07:00 0HL9KJ2V8SF16:0000001B [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:47:59.2279464+07:00 0HL9KJ2V8SF16:0000001B [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:59.2408718+07:00 0HL9KJ2V8SF10:00000022 [INF] Executed DbCommand ("10"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:47:59.2555340+07:00 0HL9KJ2V8SF10:00000022 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:47:59.2640648+07:00 0HL9KJ2V8SF10:00000022 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 133.6419ms (afa2e885)
2017-11-26T13:47:59.2668874+07:00 0HL9KJ2V8SF16:0000001B [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 133.9348ms (afa2e885)
2017-11-26T13:47:59.2742734+07:00 0HL9KJ2V8SF10:00000022 [INF] Request finished in 204.8095ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:47:59.2846162+07:00 0HL9KJ2V8SF16:0000001B [INF] Request finished in 208.4223ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:48:02.4870331+07:00 0HL9KJ2V8SF16:0000001C [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/Function/GetAll   (ca22a1cb)
2017-11-26T13:48:02.4976303+07:00 0HL9KJ2V8SF10:00000023 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Role/ListAllFunction application/x-www-form-urlencoded; charset=UTF-8 43 (ca22a1cb)
2017-11-26T13:48:02.4996000+07:00 0HL9KJ2V8SF16:0000001C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:48:02.5124425+07:00 0HL9KJ2V8SF16:0000001C [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:48:02.5548492+07:00 0HL9KJ2V8SF16:0000001C [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:48:02.5590923+07:00 0HL9KJ2V8SF10:00000023 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:48:02.5832120+07:00 0HL9KJ2V8SF10:00000023 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:48:02.5852451+07:00 0HL9KJ2V8SF16:0000001C [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:48:02.5954498+07:00 0HL9KJ2V8SF10:00000023 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" with arguments (["6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:48:02.6017273+07:00 0HL9KJ2V8SF16:0000001C [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:48:02.6166490+07:00 0HL9KJ2V8SF10:00000023 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:48:02.6322404+07:00 0HL9KJ2V8SF16:0000001C [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:48:02.6440368+07:00 0HL9KJ2V8SF16:0000001C [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.FunctionController.GetAll (ShopApp.Web)" in 133.6427ms (afa2e885)
2017-11-26T13:48:02.6593400+07:00 0HL9KJ2V8SF16:0000001C [INF] Request finished in 171.3499ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:48:02.6610027+07:00 0HL9KJ2V8SF10:00000023 [INF] Executed DbCommand ("3"ms) [Parameters=["@__roleId_1='?', @__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT @__roleId_1 AS [RoleId], [f].[Id] AS [FunctionId], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanCreate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanCreate], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanDelete] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanDelete], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanRead] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanRead], CASE
    WHEN [p].[Id] IS NOT NULL AND ([p].[CanUpdate] = 1)
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END AS [CanUpdate]
FROM [Functions] AS [f]
LEFT JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
WHERE [p].[Id] IS NOT NULL AND ([p].[RoleId] = @__roleId_0)" (0723d8ff)
2017-11-26T13:48:02.6778083+07:00 0HL9KJ2V8SF10:00000023 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:48:02.6850895+07:00 0HL9KJ2V8SF10:00000023 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.ListAllFunction (ShopApp.Web)" in 118.7527ms (afa2e885)
2017-11-26T13:48:02.6984071+07:00 0HL9KJ2V8SF10:00000023 [INF] Request finished in 213.1847ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:48:07.3818352+07:00 0HL9KJ2V8SF10:00000024 [INF] Request starting HTTP/1.1 POST http://localhost:28064/admin/role/SavePermission application/x-www-form-urlencoded; charset=UTF-8 7142 (ca22a1cb)
2017-11-26T13:48:07.3876915+07:00 0HL9KJ2V8SF10:00000024 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:48:07.3925253+07:00 0HL9KJ2V8SF10:00000024 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:48:07.4039586+07:00 0HL9KJ2V8SF10:00000024 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.RoleController.SavePermission (ShopApp.Web)" with arguments (["System.Collections.Generic.List`1[ShopApp.Application.ViewModels.System.PermissionViewModel]", "6b1080d5-e6b4-41d6-fdcc-08d533b84efc"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:48:07.4106938+07:00 0HL9KJ2V8SF10:00000024 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:48:07.4172215+07:00 0HL9KJ2V8SF10:00000024 [INF] Executed DbCommand ("1"ms) [Parameters=["@__roleId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[CanCreate], [x].[CanDelete], [x].[CanRead], [x].[CanUpdate], [x].[FunctionId], [x].[RoleId]
FROM [Permissions] AS [x]
WHERE [x].[RoleId] = @__roleId_0" (0723d8ff)
2017-11-26T13:48:07.5066876+07:00 0HL9KJ2V8SF10:00000024 [INF] Executed DbCommand ("23"ms) [Parameters=["@p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?', @p13='?', @p14='?', @p15='?', @p16='?', @p17='?', @p18='?', @p19='?', @p20='?', @p21='?', @p22='?', @p23='?', @p24='?', @p25='?', @p26='?', @p27='?', @p28='?' (Size = 450), @p29='?', @p30='?', @p31='?', @p32='?', @p33='?', @p34='?' (Size = 450), @p35='?', @p36='?', @p37='?', @p38='?', @p39='?', @p40='?' (Size = 450), @p41='?', @p42='?', @p43='?', @p44='?', @p45='?', @p46='?' (Size = 450), @p47='?', @p48='?', @p49='?', @p50='?', @p51='?', @p52='?' (Size = 450), @p53='?', @p54='?', @p55='?', @p56='?', @p57='?', @p58='?' (Size = 450), @p59='?', @p60='?', @p61='?', @p62='?', @p63='?', @p64='?' (Size = 450), @p65='?', @p66='?', @p67='?', @p68='?', @p69='?', @p70='?' (Size = 450), @p71='?', @p72='?', @p73='?', @p74='?', @p75='?', @p76='?' (Size = 450), @p77='?', @p78='?', @p79='?', @p80='?', @p81='?', @p82='?' (Size = 450), @p83='?', @p84='?', @p85='?', @p86='?', @p87='?', @p88='?' (Size = 450), @p89='?', @p90='?', @p91='?', @p92='?', @p93='?', @p94='?' (Size = 450), @p95='?', @p96='?', @p97='?', @p98='?', @p99='?', @p100='?' (Size = 450), @p101='?', @p102='?', @p103='?', @p104='?', @p105='?', @p106='?' (Size = 450), @p107='?', @p108='?', @p109='?', @p110='?', @p111='?', @p112='?' (Size = 450), @p113='?', @p114='?', @p115='?', @p116='?', @p117='?', @p118='?' (Size = 450), @p119='?', @p120='?', @p121='?', @p122='?', @p123='?', @p124='?' (Size = 450), @p125='?', @p126='?', @p127='?', @p128='?', @p129='?', @p130='?' (Size = 450), @p131='?', @p132='?', @p133='?', @p134='?', @p135='?', @p136='?' (Size = 450), @p137='?', @p138='?', @p139='?', @p140='?', @p141='?', @p142='?' (Size = 450), @p143='?', @p144='?', @p145='?', @p146='?', @p147='?', @p148='?' (Size = 450), @p149='?', @p150='?', @p151='?', @p152='?', @p153='?', @p154='?' (Size = 450), @p155='?', @p156='?', @p157='?', @p158='?', @p159='?', @p160='?' (Size = 450), @p161='?', @p162='?', @p163='?', @p164='?', @p165='?', @p166='?' (Size = 450), @p167='?'"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Permissions]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p6;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p9;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p10;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p11;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p12;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p13;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p14;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p15;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p16;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p17;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p18;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p19;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p20;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;

DELETE FROM [Permissions]
WHERE [Id] = @p23;
SELECT @@ROWCOUNT;

DECLARE @inserted24 TABLE ([Id] int, [_Position] [int]);
MERGE [Permissions] USING (
VALUES (@p24, @p25, @p26, @p27, @p28, @p29, 0),
(@p30, @p31, @p32, @p33, @p34, @p35, 1),
(@p36, @p37, @p38, @p39, @p40, @p41, 2),
(@p42, @p43, @p44, @p45, @p46, @p47, 3),
(@p48, @p49, @p50, @p51, @p52, @p53, 4),
(@p54, @p55, @p56, @p57, @p58, @p59, 5),
(@p60, @p61, @p62, @p63, @p64, @p65, 6),
(@p66, @p67, @p68, @p69, @p70, @p71, 7),
(@p72, @p73, @p74, @p75, @p76, @p77, 8),
(@p78, @p79, @p80, @p81, @p82, @p83, 9),
(@p84, @p85, @p86, @p87, @p88, @p89, 10),
(@p90, @p91, @p92, @p93, @p94, @p95, 11),
(@p96, @p97, @p98, @p99, @p100, @p101, 12),
(@p102, @p103, @p104, @p105, @p106, @p107, 13),
(@p108, @p109, @p110, @p111, @p112, @p113, 14),
(@p114, @p115, @p116, @p117, @p118, @p119, 15),
(@p120, @p121, @p122, @p123, @p124, @p125, 16),
(@p126, @p127, @p128, @p129, @p130, @p131, 17),
(@p132, @p133, @p134, @p135, @p136, @p137, 18),
(@p138, @p139, @p140, @p141, @p142, @p143, 19),
(@p144, @p145, @p146, @p147, @p148, @p149, 20),
(@p150, @p151, @p152, @p153, @p154, @p155, 21),
(@p156, @p157, @p158, @p159, @p160, @p161, 22),
(@p162, @p163, @p164, @p165, @p166, @p167, 23)) AS i ([CanCreate], [CanDelete], [CanRead], [CanUpdate], [FunctionId], [RoleId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CanCreate], [CanDelete], [CanRead], [CanUpdate], [FunctionId], [RoleId])
VALUES (i.[CanCreate], i.[CanDelete], i.[CanRead], i.[CanUpdate], i.[FunctionId], i.[RoleId])
OUTPUT INSERTED.[Id], i._Position
INTO @inserted24;

SELECT [t].[Id] FROM [Permissions] t
INNER JOIN @inserted24 i ON ([t].[Id] = [i].[Id])
ORDER BY [i].[_Position];" (0723d8ff)
2017-11-26T13:48:07.5264893+07:00 0HL9KJ2V8SF10:00000024 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200 (e28ccfae)
2017-11-26T13:48:07.5322618+07:00 0HL9KJ2V8SF10:00000024 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.RoleController.SavePermission (ShopApp.Web)" in 138.645ms (afa2e885)
2017-11-26T13:48:07.5442121+07:00 0HL9KJ2V8SF10:00000024 [INF] Request finished in 155.5155ms 200  (791a596a)
2017-11-26T13:48:14.3938519+07:00 0HL9KJ2V8SF10:00000025 [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Account/Logout application/x-www-form-urlencoded 0 (ca22a1cb)
2017-11-26T13:48:14.3985792+07:00 0HL9KJ2V8SF10:00000025 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:48:14.4043897+07:00 0HL9KJ2V8SF10:00000025 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:48:14.4095784+07:00 0HL9KJ2V8SF10:00000025 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.AccountController.Logout (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:48:14.4152265+07:00 0HL9KJ2V8SF10:00000025 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-11-26T13:48:14.4217688+07:00 0HL9KJ2V8SF10:00000025 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-11-26T13:48:14.4261479+07:00 0HL9KJ2V8SF10:00000025 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-11-26T13:48:14.4307588+07:00 0HL9KJ2V8SF10:00000025 [INF] Executing RedirectResult, redirecting to "/Admin/Login/Index". (d98d540e)
2017-11-26T13:48:14.4356555+07:00 0HL9KJ2V8SF10:00000025 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.AccountController.Logout (ShopApp.Web)" in 31.9906ms (afa2e885)
2017-11-26T13:48:14.4414378+07:00 0HL9KJ2V8SF10:00000025 [INF] Request finished in 47.3738ms 302  (791a596a)
2017-11-26T13:48:14.4480652+07:00 0HL9KJ2V8SF10:00000026 [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/Login/Index   (ca22a1cb)
2017-11-26T13:48:14.4551762+07:00 0HL9KJ2V8SF10:00000026 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:48:14.4593180+07:00 0HL9KJ2V8SF10:00000026 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Login/Index.cshtml". (9707eebe)
2017-11-26T13:48:14.4701604+07:00 0HL9KJ2V8SF10:00000026 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" in 11.654ms (afa2e885)
2017-11-26T13:48:14.4759213+07:00 0HL9KJ2V8SF10:00000026 [INF] Request finished in 27.3484ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:48:17.4196523+07:00 0HL9KJ2V8SF10:00000027 [INF] Request starting HTTP/1.1 POST http://localhost:28064/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 32 (ca22a1cb)
2017-11-26T13:48:17.4260187+07:00 0HL9KJ2V8SF10:00000027 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" with arguments (["ShopApp.Web.Models.AccountViewModels.LoginViewModel"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:48:17.4315611+07:00 0HL9KJ2V8SF10:00000027 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:48:17.4448954+07:00 0HL9KJ2V8SF10:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2017-11-26T13:48:17.4651171+07:00 0HL9KJ2V8SF10:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2017-11-26T13:48:17.4761689+07:00 0HL9KJ2V8SF10:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:48:17.4861491+07:00 0HL9KJ2V8SF10:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2017-11-26T13:48:17.4934936+07:00 0HL9KJ2V8SF10:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2017-11-26T13:48:17.4985421+07:00 0HL9KJ2V8SF10:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2017-11-26T13:48:17.5050112+07:00 0HL9KJ2V8SF10:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2017-11-26T13:48:17.5100566+07:00 0HL9KJ2V8SF10:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:48:17.5162273+07:00 0HL9KJ2V8SF10:00000027 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-11-26T13:48:17.5210337+07:00 0HL9KJ2V8SF10:00000027 [INF] User logged in. (fdce0db4)
2017-11-26T13:48:17.5301166+07:00 0HL9KJ2V8SF10:00000027 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:48:17.5380932+07:00 0HL9KJ2V8SF10:00000027 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" in 111.4753ms (afa2e885)
2017-11-26T13:48:17.5447992+07:00 0HL9KJ2V8SF10:00000027 [INF] Request finished in 124.1078ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:48:17.5566590+07:00 0HL9KJ2V8SF10:00000028 [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/Home/Index   (ca22a1cb)
2017-11-26T13:48:17.5619119+07:00 0HL9KJ2V8SF10:00000028 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:48:17.5686658+07:00 0HL9KJ2V8SF10:00000028 [INF] Authorization was successful for user: "test". (d7eb274a)
2017-11-26T13:48:17.5734564+07:00 0HL9KJ2V8SF10:00000028 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:48:17.5790950+07:00 0HL9KJ2V8SF10:00000028 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Home/Index.cshtml". (9707eebe)
2017-11-26T13:48:17.5902277+07:00 0HL9KJ2V8SF10:00000028 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" in 18.079ms (afa2e885)
2017-11-26T13:48:17.6554471+07:00 0HL9KJ2V8SF10:00000028 [INF] Request finished in 41.4307ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:48:21.7885809+07:00 0HL9KJ2V8SF10:00000029 [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/index   (ca22a1cb)
2017-11-26T13:48:21.7949748+07:00 0HL9KJ2V8SF10:00000029 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:48:21.7995327+07:00 0HL9KJ2V8SF10:00000029 [INF] Authorization was successful for user: "test". (d7eb274a)
2017-11-26T13:48:21.8054767+07:00 0HL9KJ2V8SF10:00000029 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.UserController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:48:21.8106826+07:00 0HL9KJ2V8SF10:00000029 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:48:21.8211982+07:00 0HL9KJ2V8SF10:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanRead] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:48:21.8283276+07:00 0HL9KJ2V8SF10:00000029 [INF] Authorization was successful for user: "test". (d7eb274a)
2017-11-26T13:48:21.8377312+07:00 0HL9KJ2V8SF10:00000029 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/User/Index.cshtml". (9707eebe)
2017-11-26T13:48:21.8540458+07:00 0HL9KJ2V8SF10:00000029 [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanCreate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:48:21.8596951+07:00 0HL9KJ2V8SF10:00000029 [INF] Authorization failed for user: "test". (a4ab1676)
2017-11-26T13:48:21.8746720+07:00 0HL9KJ2V8SF10:00000029 [INF] Executed DbCommand ("5"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanUpdate] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:48:21.8786569+07:00 0HL9KJ2V8SF10:00000029 [INF] Authorization failed for user: "test". (a4ab1676)
2017-11-26T13:48:21.8911735+07:00 0HL9KJ2V8SF10:00000029 [INF] Executed DbCommand ("4"ms) [Parameters=["@__functionId_1='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Functions] AS [f]
        INNER JOIN [Permissions] AS [p] ON [f].[Id] = [p].[FunctionId]
        INNER JOIN [AppRoles] AS [r] ON [p].[RoleId] = [r].[Id]
        WHERE ([r].[Name] IN (N'Staff', N'Customer') AND ([f].[Id] = @__functionId_1)) AND ([p].[CanDelete] = 1))
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-26T13:48:21.8946029+07:00 0HL9KJ2V8SF10:00000029 [INF] Authorization failed for user: "test". (a4ab1676)
2017-11-26T13:48:21.9039509+07:00 0HL9KJ2V8SF10:00000029 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.UserController.Index (ShopApp.Web)" in 100.3973ms (afa2e885)
2017-11-26T13:48:21.9100455+07:00 0HL9KJ2V8SF10:00000029 [INF] Request finished in 121.3789ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:48:22.3062337+07:00 0HL9KJ2V8SF10:0000002A [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:48:22.3109948+07:00 0HL9KJ2V8SF10:0000002A [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:48:22.3162532+07:00 0HL9KJ2V8SF10:0000002A [INF] Authorization was successful for user: "test". (d7eb274a)
2017-11-26T13:48:22.3243978+07:00 0HL9KJ2V8SF10:0000002A [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:48:22.3324001+07:00 0HL9KJ2V8SF10:0000002A [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:48:22.3450398+07:00 0HL9KJ2V8SF10:0000002A [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2017-11-26T13:48:22.3605501+07:00 0HL9KJ2V8SF10:0000002A [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:48:22.3780668+07:00 0HL9KJ2V8SF10:0000002A [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:48:22.3949638+07:00 0HL9KJ2V8SF10:0000002A [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" in 77.3711ms (afa2e885)
2017-11-26T13:48:22.4107271+07:00 0HL9KJ2V8SF10:0000002A [INF] Request finished in 95.9412ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:48:22.4443549+07:00 0HL9KJ2V8SF10:0000002B [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/GetAllPaging?keyword=&page=1&pageSize=10   (ca22a1cb)
2017-11-26T13:48:22.4792835+07:00 0HL9KJ2V8SF16:0000001D [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/null   (ca22a1cb)
2017-11-26T13:48:22.4821962+07:00 0HL9KJ2V8SF10:0000002B [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:48:22.5304536+07:00 0HL9KJ2V8SF16:0000001D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:48:22.5579937+07:00 0HL9KJ2V8SF16:0000001D [INF] Request finished in 100.0864ms 404  (791a596a)
2017-11-26T13:48:22.5739875+07:00 0HL9KJ2V8SF10:0000002B [INF] Authorization was successful for user: "test". (d7eb274a)
2017-11-26T13:48:22.5820214+07:00 0HL9KJ2V8SF10:0000002B [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" with arguments (["", "1", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:48:22.6168800+07:00 0HL9KJ2V8SF10:0000002B [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:48:22.6280712+07:00 0HL9KJ2V8SF10:0000002B [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [AppUsers] AS [a]" (0723d8ff)
2017-11-26T13:48:22.6404860+07:00 0HL9KJ2V8SF10:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?', @__p_1='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[UserName], [x].[Avatar], CONVERT(VARCHAR(100), [x].[BirthDay]) AS [BirthDay], [x].[Email], [x].[FullName], [x].[Id], [x].[PhoneNumber], [x].[Status], [x].[DateCreated]
FROM [AppUsers] AS [x]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2017-11-26T13:48:22.6468021+07:00 0HL9KJ2V8SF10:0000002B [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:48:22.6633685+07:00 0HL9KJ2V8SF10:0000002B [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.UserController.GetAllPaging (ShopApp.Web)" in 164.3949ms (afa2e885)
2017-11-26T13:48:22.6816545+07:00 0HL9KJ2V8SF10:0000002B [INF] Request finished in 245.8737ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:48:22.7095603+07:00 0HL9KJ2V8SF10:0000002C [INF] Request starting HTTP/1.1 GET http://localhost:28064/admin/user/null   (ca22a1cb)
2017-11-26T13:48:22.7147233+07:00 0HL9KJ2V8SF10:0000002C [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:48:22.7304409+07:00 0HL9KJ2V8SF10:0000002C [INF] Request finished in 30.7637ms 404  (791a596a)
2017-11-26T13:48:35.2926065+07:00 0HL9KJ2V8SF10:0000002D [INF] Request starting HTTP/1.1 POST http://localhost:28064/Admin/Account/Logout application/x-www-form-urlencoded 0 (ca22a1cb)
2017-11-26T13:48:35.2970173+07:00 0HL9KJ2V8SF10:0000002D [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:48:35.3047510+07:00 0HL9KJ2V8SF10:0000002D [INF] Authorization was successful for user: "test". (d7eb274a)
2017-11-26T13:48:35.3104500+07:00 0HL9KJ2V8SF10:0000002D [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.AccountController.Logout (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:48:35.3153072+07:00 0HL9KJ2V8SF10:0000002D [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2017-11-26T13:48:35.3227454+07:00 0HL9KJ2V8SF10:0000002D [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2017-11-26T13:48:35.3277849+07:00 0HL9KJ2V8SF10:0000002D [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2017-11-26T13:48:35.3325618+07:00 0HL9KJ2V8SF10:0000002D [INF] Executing RedirectResult, redirecting to "/Admin/Login/Index". (d98d540e)
2017-11-26T13:48:35.3384891+07:00 0HL9KJ2V8SF10:0000002D [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.AccountController.Logout (ShopApp.Web)" in 35.4345ms (afa2e885)
2017-11-26T13:48:35.3443389+07:00 0HL9KJ2V8SF10:0000002D [INF] Request finished in 55.3273ms 302  (791a596a)
2017-11-26T13:48:35.3516078+07:00 0HL9KJ2V8SF10:0000002E [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/Login/Index   (ca22a1cb)
2017-11-26T13:48:35.3569680+07:00 0HL9KJ2V8SF10:0000002E [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:48:35.3606625+07:00 0HL9KJ2V8SF10:0000002E [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Login/Index.cshtml". (9707eebe)
2017-11-26T13:48:35.3705888+07:00 0HL9KJ2V8SF10:0000002E [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Index (ShopApp.Web)" in 9.3275ms (afa2e885)
2017-11-26T13:48:35.3809063+07:00 0HL9KJ2V8SF10:0000002E [INF] Request finished in 23.8708ms 200 text/html; charset=utf-8 (791a596a)
2017-11-26T13:48:36.6852076+07:00 0HL9KJ2V8SF10:0000002F [INF] Request starting HTTP/1.1 POST http://localhost:28064/admin/login/authen application/x-www-form-urlencoded; charset=UTF-8 33 (ca22a1cb)
2017-11-26T13:48:36.6902401+07:00 0HL9KJ2V8SF10:0000002F [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" with arguments (["ShopApp.Web.Models.AccountViewModels.LoginViewModel"]) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:48:36.6962487+07:00 0HL9KJ2V8SF10:0000002F [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:48:36.7055673+07:00 0HL9KJ2V8SF10:0000002F [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Avatar], [u].[Balance], [u].[BirthDay], [u].[ConcurrencyStamp], [u].[DateCreated], [u].[DateModified], [u].[Email], [u].[EmailConfirmed], [u].[FullName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [AppUsers] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2017-11-26T13:48:36.7393494+07:00 0HL9KJ2V8SF10:0000002F [INF] Executed DbCommand ("12"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [AppUserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0" (0723d8ff)
2017-11-26T13:48:36.7470801+07:00 0HL9KJ2V8SF10:0000002F [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:48:36.7550922+07:00 0HL9KJ2V8SF10:0000002F [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Description], [r].[Name], [r].[NormalizedName]
FROM [AppRoles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0" (0723d8ff)
2017-11-26T13:48:36.7620574+07:00 0HL9KJ2V8SF10:0000002F [INF] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [AppRoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0" (0723d8ff)
2017-11-26T13:48:36.8531696+07:00 0HL9KJ2V8SF10:0000002F [INF] Executed DbCommand ("78"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT [role].[Name]
FROM [AppUserRoles] AS [userRole]
INNER JOIN [AppRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0" (0723d8ff)
2017-11-26T13:48:36.8589989+07:00 0HL9KJ2V8SF10:0000002F [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2017-11-26T13:48:36.8654732+07:00 0HL9KJ2V8SF10:0000002F [INF] User logged in. (fdce0db4)
2017-11-26T13:48:36.8710258+07:00 0HL9KJ2V8SF10:0000002F [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-26T13:48:36.8779838+07:00 0HL9KJ2V8SF10:0000002F [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.LoginController.Authen (ShopApp.Web)" in 185.5121ms (afa2e885)
2017-11-26T13:48:36.8896540+07:00 0HL9KJ2V8SF10:0000002F [INF] Request finished in 198.9537ms 200 application/json; charset=utf-8 (791a596a)
2017-11-26T13:48:36.8983452+07:00 0HL9KJ2V8SF10:00000030 [INF] Request starting HTTP/1.1 GET http://localhost:28064/Admin/Home/Index   (ca22a1cb)
2017-11-26T13:48:36.9054926+07:00 0HL9KJ2V8SF10:00000030 [INF] AuthenticationScheme: "Identity.Application" was successfully authenticated. (1805f3b3)
2017-11-26T13:48:36.9114096+07:00 0HL9KJ2V8SF10:00000030 [INF] Authorization was successful for user: "admin". (d7eb274a)
2017-11-26T13:48:36.9226980+07:00 0HL9KJ2V8SF10:00000030 [INF] Executing action method "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-26T13:48:36.9433708+07:00 0HL9KJ2V8SF10:00000030 [INF] Executing ViewResult, running view at path "/Areas/Admin/Views/Home/Index.cshtml". (9707eebe)
2017-11-26T13:48:36.9509775+07:00 0HL9KJ2V8SF10:00000030 [INF] Entity Framework Core "2.0.0-rtm-26452" initialized '"AppDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "MigrationsAssembly=ShopApp.Data.EF " (9958f5bb)
2017-11-26T13:48:36.9624310+07:00 0HL9KJ2V8SF10:00000030 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [x].[Id], [x].[Name], [x].[URL], [x].[ParentId], [x].[IconCss], [x].[SortOrder], [x].[Status]
FROM [Functions] AS [x]
WHERE [x].[Status] = 1
ORDER BY [x].[ParentId]" (0723d8ff)
2017-11-26T13:48:37.0228533+07:00 0HL9KJ2V8SF10:00000030 [INF] Executed action "ShopApp.Web.Areas.Admin.Controllers.HomeController.Index (ShopApp.Web)" in 58.2965ms (afa2e885)
2017-11-26T13:48:37.0322789+07:00 0HL9KJ2V8SF10:00000030 [INF] Request finished in 131.0943ms 200 text/html; charset=utf-8 (791a596a)
